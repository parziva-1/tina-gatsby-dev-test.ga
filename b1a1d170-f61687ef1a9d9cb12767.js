(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/R/0":function(n,e,t){(function(n){t("PZd/"),t("OeI1"),t("klQ5"),t("zK58"),t("YBKJ"),t("WevN"),t("ZiRl"),t("YbXK"),t("cFtU"),t("HQhv"),t("TAD1"),t("v9g0"),t("y7hu"),t("JHok"),t("Ll4R"),t("gu/5"),t("eoYm"),t("wZFJ"),t("zTTH"),t("pJf4"),t("q/PY"),t("sC2a"),t("rzGZ"),t("Dq+y"),t("Ggvi"),t("AqHK"),t("U6Bt"),t("R48M"),t("m210"),t("6kNP"),t("8npG"),t("4DPX"),t("sc67"),t("E5k/"),t("pS08"),t("LagC"),function(e,r,o,i,a,l,s,c,d,u,p,f,m,h,g,b,v,w,k,y,x,C,M,_,E){"use strict";var z="default"in r?r.default:r,I="default"in o?o.default:o,S="default"in s?s.default:s;b=b&&b.hasOwnProperty("default")?b.default:b;var N=function(n,e){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])})(n,e)};function T(n,e){function t(){this.constructor=n}N(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}var A=function(){return(A=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)};function P(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}function L(n,e,t,r){return new(t=t||Promise)((function(o,i){function a(n){try{s(r.next(n))}catch(n){i(n)}}function l(n){try{s(r.throw(n))}catch(n){i(n)}}function s(n){n.done?o(n.value):new t((function(e){e(n.value)})).then(a,l)}s((r=r.apply(n,e||[])).next())}))}function O(n,e){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(n,a)}catch(l){i=[6,l],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function D(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var r=Array(n),o=0;for(e=0;e<t;e++)for(var i=arguments[e],a=0,l=i.length;a<l;a++,o++)r[o]=i[a];return r}function F(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function W(n){var e=n.children,t=r.useState(!0),o=t[0],i=t[1];return r.useEffect((function(){function n(){return i(!0)}function e(){return i(!1)}return window.addEventListener("focus",n),window.addEventListener("blur",e),function(){window.removeEventListener("focus",n),window.removeEventListener("blur",e)}}),[]),r.createElement(Z.Provider,{value:{browserFocused:o}},e)}function R(){return A({},r.useContext(Z))}function B(n){var e=n.children,t=r.useState("wysiwyg"),o=t[0],i=t[1];return r.useEffect((function(){document.addEventListener("keydown",(function(n){n.altKey&&n.shiftKey&&n.metaKey&&77===n.keyCode&&i("wysiwyg"===o?"markdown":"wysiwyg")}))})),r.createElement(Q.Provider,{value:{mode:o,setMode:i}},e)}function $(){return r.useContext(Q)}function q(){var n=$(),e=n.mode,t=n.setMode;return r.createElement(J,{"data-testid":"markdown-toggle","data-tooltip":"Markdown mode",title:"Toggle Markdown mode",onClick:function(){t("markdown"===e?"wysiwyg":"markdown")}},r.createElement(i.MarkdownIcon,null))}function H(n){var e=n.children,t=n.editorView,o=n.translator;return r.createElement(en.Provider,{value:{editorView:t,translator:o}},e)}function j(){return A({},r.useContext(en))}function U(n,e,t,r,o){return void 0===o&&(o=!0),function(){var t=j().editorView,i=function(){return n(t.view.state)};return z.createElement(J,{"data-tooltip":r,title:r,onClick:function(){if(i()){var e=t.view;n(e.state,e.dispatch),o&&e.focus()}},disabled:!i(),onMouseDown:function(n){n.preventDefault(),n.stopPropagation()}},z.createElement(e,null))}}var V,K,G,X,Z=r.createContext({browserFocused:!0}),Y=(Z.Consumer,o.css(V=V||F(["\n  flex: 1 1 32px;\n"],["\n  flex: 1 1 32px;\n"]))),J=I.button.withConfig({displayName:"MenuButton",componentId:"sc-i2efhj"})(X=X||F(["\n  ","\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: 1px solid var(--tina-color-grey-2);\n  margin: -1px;\n  outline: none;\n  padding: 6px 4px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  &:hover {\n    background-color: rgba(53, 50, 50, 0.09);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n  ",";\n  ",";\n"],["\n  ","\n  background-color: ",";\n  color: ",";\n  fill: ",";\n  border: 1px solid var(--tina-color-grey-2);\n  margin: -1px;\n  outline: none;\n  padding: 6px 4px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  font-weight: 600;\n  &:hover {\n    background-color: rgba(53, 50, 50, 0.09);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  svg {\n    width: 20px;\n    height: 20px;\n  }\n  ",";\n  ",";\n"]),Y,(function(n){return n.active?"rgba(53, 50, 50, 0.05)":"transparent"}),(function(n){return n.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(n){return n.active?"var(--tina-color-primary)":"var(--tina-color-grey-8)"}),(function(n){return n.active&&o.css(K=K||F(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "],["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]))}),(function(n){return n.disabled&&o.css(G=G||F(["\n      pointer-events: none;\n      color: #d1d1d1;\n      fill: #d1d1d1;\n    "],["\n      pointer-events: none;\n      color: #d1d1d1;\n      fill: #d1d1d1;\n    "]))})),Q=r.createContext({mode:"wysiwyg",setMode:function(){}}),nn=Q.Consumer,en=r.createContext({editorView:void 0,translator:void 0});function tn(n){var e=n.mark,t=n.Icon,o=n.tooltip,i=n.defaultAttrs,a=n.selectionOnly,s=void 0!==a&&a,c=n.noMix,d=void 0===c?[]:c,u=n.isDisabled,p=n.onClick,f=n.onMenuOptionClick;return function(){function n(n){return c.state.schema.marks[n]}function a(){return u?u(c):"image"===e&&s?!!c.state.selection.$cursor||h()||g():h()||g()}var c=j().editorView.view,m=function(e){var t=c.state,r=n(e),o=t.selection,i=o.from,a=o.$from,l=o.to;return o.empty?!!r.isInSet(t.storedMarks||a.marks()):t.doc.rangeHasMark(i,l,r)},h=function(){return c.state.selection.$from.node(c.state.selection.$from.depth).type===c.state.schema.nodes.code_block},g=function(){return d.map(m).reduce((function(n,e){return e||n}),!1)};return n(e)?r.createElement(J,{"data-tooltip":o,"data-side":"top",title:o,onClick:function(){if(p&&p(c),f)return f(c);if(!a()){var t=c.state,r=c.dispatch;t.selection.$cursor&&s||l.toggleMark(n(e),i)(t,r)}},active:!a()&&m(e),disabled:a()},r.createElement(t,null)):null}}en.Consumer;var rn=r.createContext((function(){return null}));function on(n){var e=n.children,t=r.useRef(null),o=r.useCallback((function(n){return t.current?s.createPortal(n.children,t.current):null}),[t.current]);return r.createElement(rn.Provider,{value:o},r.createElement("div",{ref:t},e))}function an(n,e){for(var t=n,r=t.offsetTop;t.offsetParent&&(!e||t.offsetParent!==e);)r+=(t=t.offsetParent).offsetTop;return r}function ln(n,e){for(var t=n,r=t.offsetLeft;t.offsetParent&&(!e||t.offsetParent!==e);)r+=(t=t.offsetParent).offsetLeft;return r}function sn(n,e){return!!vn(n,e)}function cn(e){var t="Windows"===function(){if(void 0===n.navigator)return"Windows";for(var e=navigator.userAgent,t=[{s:"Windows",r:/Win16/},{s:"Windows",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows",r:/(Windows 98|Win98)/},{s:"Windows",r:/Windows CE/},{s:"Windows",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows",r:/Windows NT 5.2/},{s:"Windows",r:/Windows NT 6.0/},{s:"Windows",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/}],r=Object.keys(t),o=0;o<t.length;o+=1){var i=t[r[o]];if(i.r.test(e))return i.s}return""}()?"^":"⌘",r=e;return(r=(r=r.replace("Mod",t)).replace("Shift","⇧")).replace("Alt","⌥")}var dn,un,pn,fn,mn,hn=I((function(n){var e=n.children,t=(n.open,n.triggerRef),o=(n.innerRef,P(n,["children","open","triggerRef","innerRef"])),i=r.useContext(rn),a=r.useRef(null),l=r.useState(0),s=l[0],c=l[1];return r.useEffect((function(){if(t.current&&a.current){var n=t.current.getBoundingClientRect(),e=a.current.getBoundingClientRect();c(n.x-e.x)}}),[t.current,a.current]),r.createElement(i,null,r.createElement("div",{ref:a},r.createElement(gn,{offset:s},r.createElement("div",A({},o),e))))})).withConfig({displayName:"MenuDropdown",componentId:"sc-vjjjqx"})(un=un||F(["\n  border-radius: var(--tina-radius-small);\n  border: 1px solid #efefef;\n  display: block;\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  transform: translate3d(0, 100%, 0) scale3d(0.5, 0.5, 1);\n  opacity: 0;\n  pointer-events: none;\n  transition: all 85ms ease-out;\n  transform-origin: 0 0;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12), 0px 4px 8px rgba(48, 48, 48, 0.1);\n  background-color: white;\n  overflow: hidden;\n  z-index: 10;\n  white-space: nowrap;\n\n  ",";\n"],["\n  border-radius: var(--tina-radius-small);\n  border: 1px solid #efefef;\n  display: block;\n  position: absolute;\n  bottom: -4px;\n  left: 0;\n  transform: translate3d(0, 100%, 0) scale3d(0.5, 0.5, 1);\n  opacity: 0;\n  pointer-events: none;\n  transition: all 85ms ease-out;\n  transform-origin: 0 0;\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12), 0px 4px 8px rgba(48, 48, 48, 0.1);\n  background-color: white;\n  overflow: hidden;\n  z-index: 10;\n  white-space: nowrap;\n\n  ",";\n"]),(function(n){return n.open&&o.css(dn=dn||F(["\n      opacity: 1;\n      pointer-events: all;\n      transform: translate3d(0, 100%, 0) scale3d(1, 1, 1);\n    "],["\n      opacity: 1;\n      pointer-events: all;\n      transform: translate3d(0, 100%, 0) scale3d(1, 1, 1);\n    "]))})),gn=I.div.withConfig({displayName:"Offset",componentId:"sc-1xkh027"})(pn=pn||F(["\n  position: absolute;\n  left: ","px;\n"],["\n  position: absolute;\n  left: ","px;\n"]),(function(n){return n.offset})),bn=I.div.withConfig({displayName:"MenuOption",componentId:"sc-h2dz9f"})(mn=mn||F(["\n  display: block;\n  padding: 8px 12px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  &:first-child {\n    padding-top: var(--tina-padding-small);\n  }\n  &:last-child {\n    padding-bottom: var(--tina-padding-small);\n  }\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    color: var(--tina-color-primary);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  ",";\n"],["\n  display: block;\n  padding: 8px 12px;\n  transition: all 85ms ease-out;\n  cursor: pointer;\n  &:first-child {\n    padding-top: var(--tina-padding-small);\n  }\n  &:last-child {\n    padding-bottom: var(--tina-padding-small);\n  }\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    color: var(--tina-color-primary);\n  }\n  &:active {\n    color: var(--tina-color-primary);\n    fill: var(--tina-color-primary);\n    background-color: rgba(53, 50, 50, 0.05);\n  }\n  ",";\n"]),(function(n){return n.active&&o.css(fn=fn||F(["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "],["\n      color: var(--tina-color-primary);\n      fill: var(--tina-color-primary);\n      background-color: rgba(53, 50, 50, 0.05);\n    "]))})),vn=function(n,e){var t,r,o=n.selection,i=o.anchor,a=o.head;r=i<a?(t=i,a):(t=a,i),t=o.empty?t:t+1;var l=e.isInSet(n.doc.resolve(t).marks());if(!l)return!1;for(var s=l;t<r&&s;t+=1)e.isInSet(n.doc.resolve(t).marks())||(s=void 0);return s};function wn(n,e){var t=n.selection.$cursor;if(!t)return!1;var r=n.doc.nodeAt(Math.max(t.pos-1,0));if(!r)return!1;if(r.type!=n.schema.nodes.heading)return!1;if(r.textContent.length)return!1;if(e){var o=n.tr;e(o.replaceRangeWith(t.pos-1,t.pos+r.nodeSize-1,n.schema.nodes.paragraph.create()).setSelection(new c.TextSelection(o.doc.resolve(n.selection.head))).scrollIntoView())}return!0}function kn(n,e,t,r){return function(o,i){var a=o.selection,l=a.from,s=a.to,c=null,d=-1;if(o.doc.nodesBetween(l,s,(function(n,e){return!c&&(n.isTextblock&&(c=n,d=e),!0)})),!c||d<0)return!1;var u=o.doc.resolve(d),p=u.index(),f=o.selection.$head.parent.attrs.level==e.level,m=f?t:n,h=f?r:e;return!!u.parent.canReplaceWith(p,p+1,m)&&(i&&i(o.tr.setBlockType(l,s,m,h).scrollIntoView()),!0)}}function yn(n){var e,t=n.Component,o=n.children,i=n.command,a=n.typeName,l=n.attrs,s=n.title;return T(c,e=r.Component),Object.defineProperty(c.prototype,"active",{get:function(){if(!a)return!1;var n=this.props.view.state.selection.$from,e=n.node(n.depth),t=e.type.name===a,r=!l||e.attrs.level===l.level;return t&&r},enumerable:!0,configurable:!0}),c.prototype.render=function(){return r.createElement(bn,{onClick:this.onClick,disabled:!this.canDo(),active:this.active},r.createElement(_n,null,r.createElement(t,null,o),r.createElement(En,null,s)))},c;function c(){var n=null!==e&&e.apply(this,arguments)||this;return n.canDo=function(){return i(n.props.view.state)},n.onClick=function(){i(n.props.view.state,n.props.view.dispatch),n.props.view.focus(),n.props.onClick()},n}}function xn(){function n(){return o(!t)}var e=r.useState(!1),t=e[0],o=e[1],l=r.useRef(),s=j().editorView.view;return r.createElement(r.Fragment,null,r.createElement(J,{ref:l,"data-tooltip":"Heading",title:"Heading",onClick:n,active:t},r.createElement(i.HeadingIcon,null)),r.createElement(hn,{triggerRef:l,open:t},r.createElement(a.Dismissible,{click:!0,escape:!0,disabled:!t,onDismiss:n},r.createElement(Hn,{view:s,onClick:n}),r.createElement(jn,{view:s,onClick:n}),r.createElement(Un,{view:s,onClick:n}),r.createElement(Vn,{view:s,onClick:n}),r.createElement(Kn,{view:s,onClick:n}),r.createElement(Gn,{view:s,onClick:n}))))}var Cn,Mn,_n=I.div.withConfig({displayName:"Content",componentId:"sc-1ppdwv8"})(Cn=Cn||F(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])),En=I.span.withConfig({displayName:"TitleText",componentId:"sc-29mc0z"})(Mn=Mn||F(["\n  color: #d1d1d1;\n  font-size: 12px;\n"],["\n  color: #d1d1d1;\n  font-size: 12px;\n"]));function zn(n){return function(e,t){return kn(e.schema.nodes.heading,{level:n},e.schema.nodes.paragraph,null)(e,t)}}function In(){return r.createElement(J,{"data-tooltip":"Heading",disabled:!0},r.createElement(i.HeadingIcon,null))}var Sn,Nn,Tn,An,Pn,Ln,On,Dn=o.css(Sn=Sn||F(["\n  white-space: nowrap;\n  line-height: 1;\n  display: block;\n  margin: 0;\n"],["\n  white-space: nowrap;\n  line-height: 1;\n  display: block;\n  margin: 0;\n"])),Fn=I.h1.withConfig({displayName:"HeadingOne",componentId:"sc-lf6gkx"})(Nn=Nn||F(["\n  ","\n"],["\n  ","\n"]),Dn),Wn=I.h2.withConfig({displayName:"HeadingTwo",componentId:"sc-w3tyaa"})(Tn=Tn||F(["\n  ","\n"],["\n  ","\n"]),Dn),Rn=I.h3.withConfig({displayName:"HeadingThree",componentId:"sc-ca0z6c"})(An=An||F(["\n  ","\n"],["\n  ","\n"]),Dn),Bn=I.h4.withConfig({displayName:"HeadingFour",componentId:"sc-1vmnlkd"})(Pn=Pn||F(["\n  ","\n"],["\n  ","\n"]),Dn),$n=I.h5.withConfig({displayName:"HeadingFive",componentId:"sc-kmis4o"})(Ln=Ln||F(["\n  ","\n"],["\n  ","\n"]),Dn),qn=I.h6.withConfig({displayName:"HeadingSix",componentId:"sc-xk1ad4"})(On=On||F(["\n  ","\n"],["\n  ","\n"]),Dn),Hn=yn({Component:Fn,children:"Heading 1",command:zn(1),typeName:"heading",attrs:{level:1},title:cn("Mod-Alt-1")}),jn=yn({Component:Wn,children:"Heading 2",command:zn(2),typeName:"heading",attrs:{level:2},title:cn("Mod-Alt-2")}),Un=yn({Component:Rn,children:"Heading 3",command:zn(3),typeName:"heading",attrs:{level:3},title:cn("Mod-Alt-3")}),Vn=yn({Component:Bn,children:"Heading 4",command:zn(4),typeName:"heading",attrs:{level:4},title:cn("Mod-Alt-4")}),Kn=yn({Component:$n,children:"Heading 5",command:zn(5),typeName:"heading",attrs:{level:5},title:cn("Mod-Alt-5")}),Gn=yn({Component:qn,children:"Heading 6",command:zn(6),typeName:"heading",attrs:{level:6},title:cn("Mod-Alt-6")});function Xn(){return z.createElement(J,{"data-tooltip":"Codeblock","data-side":"top",disabled:!0},z.createElement(i.CodeIcon,null))}var Zn=U((function(n,e){var t=n.schema.nodes,r=t.code_block,o=t.paragraph,i=n.selection,a=n.tr;if(i.$to.node(i.$to.depth).type===r)return l.setBlockType(o)(n,e);if(!e||i.empty)return l.setBlockType(r)(n,e);var s="",d=void 0,u=void 0;n.doc.nodesBetween(i.from,i.to-1,(function(n,e){n.isTextblock&&(void 0===d&&(d=e),s.length&&(s+="\n"),s+=n.textContent,u=e+n.textContent.length+1)}));var p=r.createChecked();return e(a.replaceRangeWith(d,u+1,p).insertText(s,d+1).setSelection(new c.TextSelection(a.doc.resolve(d+s.length+1))))}),i.CodeIcon,0,cn("Codeblock Mod-Alt-0"),!0),Yn="undefined"==typeof navigator,Jn="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),Qn=null;Yn||(Qn=t("VrN/"));var ne=(ee.prototype.valueChanged=function(){var n=te(this.node.textContent,this.cm.getValue());if(n){var e=this.getPos()+1,t=this.view.state.schema,r=this.view.state.tr.replaceWith(e+n.from,e+n.to,n.text?t.text(n.text):null);this.view.dispatch(r)}},ee.prototype.asProseMirrorSelection=function(n){var e=this.getPos()+1,t=this.cm.indexFromPos(this.cm.getCursor("anchor"))+e,r=this.cm.indexFromPos(this.cm.getCursor("head"))+e;return c.TextSelection.create(n,t,r)},ee.prototype.setSelection=function(n,e){this.cm.focus(),this.updating=!0,this.cm.setSelection(this.cm.posFromIndex(n),this.cm.posFromIndex(e)),this.updating=!1},ee.prototype.setupCodeMirror=function(n){return Qn(null,{value:n.textContent,lineNumbers:!0,extraKeys:this.codeMirrorKeymap(),mode:n.attrs.params,theme:"forestry"})},ee.prototype.codeMirrorKeymap=function(){var n,e=this,t=this.view,r=Jn?"Cmd":"Ctrl";return Qn.normalizeKeyMap(((n={Up:function(){return e.maybeEscape("line",-1)},Left:function(){return e.maybeEscape("char",-1)},Down:function(){return e.maybeEscape("line",1)},Right:function(){return e.maybeEscape("char",1)},Backspace:function(){if(!function(n){return function(e,t){var r=n.getCursor(),o=n.getValue(),i=!o.replace(/[ \r\n]/g,"");if(0!=r.line||0!=r.ch||!i)return!1;var a=e.selection.$from;if(t){var l=e.schema,s=e.tr;t(s.replaceRangeWith(a.pos-1,a.pos+o.length+1,l.nodes.paragraph.create()).setSelection(new c.TextSelection(s.doc.resolve(a.pos))))}return!0}}(e.cm)(e.view.state,e.view.dispatch))return Qn.Pass;e.view.focus()}})[r+"-Z"]=function(){return d.undo(t.state,t.dispatch)},n["Shift-"+r+"-Z"]=function(){return d.redo(t.state,t.dispatch)},n[r+"-Shift-Enter"]=function(){var n=e.cm.getCursor();if(e.cm.somethingSelected()||n.line!=e.cm.firstLine())return Qn.Pass;if(t.state.selection.$anchor.parentOffset){var r=t.state.selection.$anchor.pos;t.dispatch(t.state.tr.setSelection(c.Selection.near(e.view.state.doc.resolve(r-1),-1)))}return function(n,e){var t=n.selection,r=t.$head,o=t.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),a=r.indexAfter(-1),l=i.defaultContentType(a);if(!i.canReplaceWith(a,a,l))return!1;if(e){var s=r.before(),d=n.tr.replaceWith(s,s,l.createAndFill());d.setSelection(c.Selection.near(d.doc.resolve(s),-1)),e(d.scrollIntoView())}return!0}(t.state,t.dispatch)&&t.focus(),!0},n["Shift-Enter"]=function(){var n=e.cm.getCursor();if(e.cm.somethingSelected()||n.line!=e.cm.lastLine())return Qn.Pass;if(t.state.selection.$anchor.parentOffset){var r=t.state.selection.$anchor.pos;t.dispatch(t.state.tr.setSelection(c.Selection.near(e.view.state.doc.resolve(r-1),-1)))}return l.exitCode(t.state,t.dispatch)||function(n,e){var t=n.selection.$head,r=t.node(-1),o=t.indexAfter(-1),i=r.defaultContentType(o);if(e){var a=t.before(),l=n.tr.replaceWith(a,a,i.createAndFill());l.setSelection(c.Selection.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0}(t.state,t.dispatch)?t.focus():void 0},n[r+"-Alt-0"]=function(){var n=t.state,e=t.dispatch,r=n.schema.nodes.paragraph;l.setBlockType(r)(n,e)},n))},ee.prototype.maybeEscape=function(n,e){var t=this.cm.getCursor();if(this.cm.somethingSelected()||t.line!=(e<0?this.cm.firstLine():this.cm.lastLine())||"char"==n&&t.ch!=(e<0?0:this.cm.getLine(t.line).length))return Qn.Pass;var r=this.getPos()+(e<0?0:this.node.nodeSize),o=c.Selection.near(this.view.state.doc.resolve(r),e);if(!(o.$from.pos+1<this.view.state.doc.content.size))return Qn.Pass;this.view.dispatch(this.view.state.tr.setSelection(o)),this.view.focus()},ee.prototype.update=function(n){if(n.type!=this.node.type)return!1;this.node=n;var e=te(this.cm.getValue(),n.textContent);return e&&(this.updating=!0,this.cm.replaceRange(e.text,this.cm.posFromIndex(e.from),this.cm.posFromIndex(e.to)),this.updating=!1),!0},ee.prototype.selectNode=function(){this.cm.focus()},ee.prototype.stopEvent=function(){return!0},ee);function ee(n,e,t){var r=this;if(this.node=n,this.view=e,this.getPos=t,this.updating=!1,this.onCursorActivity=function(){r.updating||r.forwardSelection()},this.forwardSelection=function(){if(r.cm.hasFocus()){var n=r.view.state,e=r.asProseMirrorSelection(n.doc);e.eq(n.selection)||r.view.dispatch(n.tr.setSelection(e))}},this.onChange=function(){r.updating||r.valueChanged()},!Yn){this.cm=this.setupCodeMirror(n),this.dom=this.cm.getWrapperElement(),setTimeout((function(){return r.cm.refresh()}),20),this.cm.on("cursorActivity",this.onCursorActivity),this.cm.on("changes",this.onChange),this.cm.on("focus",this.forwardSelection);var o=this.getPos()+1,i=e.state.selection,a=i.anchor,l=i.head;this.setSelection(a-o,l-o)}}function te(n,e){if(n==e)return null;for(var t=0,r=n.length,o=e.length;t<r&&n.charCodeAt(t)==e.charCodeAt(t);)++t;for(;t<r&&t<o&&n.charCodeAt(r-1)==e.charCodeAt(o-1);)r--,o--;return{from:t,to:r,text:e.slice(t,o)}}function re(){return r.createElement(r.Fragment,null,r.createElement(ce,null),r.createElement(de,null))}function oe(){return r.createElement(r.Fragment,null,r.createElement(ue,null),r.createElement(pe,null))}function ie(){return r.createElement(r.Fragment,null,r.createElement(he,null),r.createElement(ge,null),r.createElement(be,null))}function ae(){return r.createElement(r.Fragment,null,r.createElement(J,{"data-tooltip":"Bold","data-side":"top",disabled:!0},r.createElement(i.BoldIcon,null)),r.createElement(J,{"data-tooltip":"Italic","data-side":"top",disabled:!0},r.createElement(i.ItalicIcon,null)),r.createElement(J,{"data-tooltip":"Strike","data-side":"top",disabled:!0},r.createElement(i.StrikethroughIcon,null)))}var le=new c.PluginKey("image"),se=new c.Plugin({key:le,props:{nodeViews:{code_block:function(n,e,t){return new ne(n,e,t)}}}}),ce=function(){var n=j().editorView,e=cn("Undo Mod-Z");return r.createElement(J,{"data-tooltip":e,title:e,"data-side":"top",onClick:function(){var e=n.view,t=e.state,r=e.dispatch;d.undo(t,r)},disabled:d.undoDepth(n.view.state)<1},r.createElement(i.UndoIcon,null))},de=function(){var n=j().editorView,e=cn("Redo Mod-Shift-Z");return r.createElement(J,{"data-tooltip":e,title:e,"data-side":"top",onClick:function(){var e=n.view,t=e.state,r=e.dispatch;d.redo(t,r)},disabled:d.redoDepth(n.view.state)<1},r.createElement(i.RedoIcon,null))},ue=function(){return r.createElement(J,{"data-tooltip":"Undo","data-side":"top",disabled:!0},r.createElement(i.UndoIcon,null))},pe=function(){return r.createElement(J,{"data-tooltip":"Redo","data-side":"top",disabled:!0},r.createElement(i.RedoIcon,null))},fe=new c.PluginKey("inline"),me=new c.Plugin({key:fe,props:{handleKeyDown:function(n,e){return function(n,e){if("ArrowRight"!==e.key)return!1;var t=n.state,r=t.selection,o=t.schema.marks.code;if(!o.isInSet(r.$to.marks()))return!1;if(r.$to.node().nodeSize-2!==r.$to.parentOffset)return!1;var i=n.state;return(0,n.dispatch)(i.tr.insertText(" ",r.$to.pos).removeMark(r.$to.pos,r.$to.pos+1,o)),!0}(n,e)}}}),he=tn({mark:"strong",Icon:i.BoldIcon,tooltip:cn("Bold Mod-B")}),ge=tn({mark:"em",Icon:i.ItalicIcon,tooltip:cn("Italic Mod-I")}),be=tn({mark:"strike",Icon:i.StrikethroughIcon,tooltip:"Strike"});function ve(n,e){var t=u.liftListItem(n.schema.nodes.list_item);return u.wrapInList(n.schema.nodes.bullet_list)(n,e)||t(n,e)}function we(n,e){var t=u.liftListItem(n.schema.nodes.list_item);return u.wrapInList(n.schema.nodes.ordered_list)(n,e)||t(n,e)}function ke(n){return r.createElement(r.Fragment,null,r.createElement(xe,A({},n)),r.createElement(Ce,A({},n)))}function ye(n){return r.createElement(r.Fragment,null,r.createElement(Me,A({},n)),r.createElement(_e,A({},n)))}var xe=U(ve,i.UnorderedListIcon,0,cn("Unordered List Mod-Alt-8")),Ce=U(we,i.OrderedListIcon,0,cn("Ordered List Mod-Alt-7")),Me=function(){return r.createElement(J,{"data-tooltip":"Unordered List",disabled:!0},r.createElement(i.UnorderedListIcon,null))},_e=function(){return r.createElement(J,{"data-tooltip":"Ordered List",disabled:!0},r.createElement(i.OrderedListIcon,null))};function Ee(){return z.createElement(J,{"data-tooltip":"Quote","data-side":"top",disabled:!0},z.createElement(i.QuoteIcon,null))}function ze(n,e){return e?n.createChecked(null,e):n.createAndFill()}var Ie=U((function(n,e){var t=n.schema.nodes.blockquote,r=p.findParentNodeOfType(t)(n.selection)||{},o=r.start,i=r.node;if(o&&i){var a=n.tr,s=a.doc.resolve(o+1).blockRange(a.doc.resolve(o+i.nodeSize-2));if(s)return!e||e(a.lift(s,0))}return l.wrapIn(n.schema.nodes.blockquote)(n,e)}),i.QuoteIcon,0,"Blockquote"),Se=new c.PluginKey("table"),Ne=new c.Plugin({key:Se,state:{init:function(){return{deco:f.DecorationSet.empty}},apply:function(n,e,t,r){if(!1===n.getMeta("image_clicked"))return e;var o=r.selection;if(o){var i=r.schema.nodes.table,a=p.findParentNodeOfType(i)(o);if(a){var l=o===t.selection,s=(a&&a.node.nodeSize)===(e.selectedTable&&e.selectedTable.node.nodeSize)&&(a&&a.start)===(e.selectedTable&&e.selectedTable.start);if(l&&s)return e;var c=function(n,e){var t=m.TableMap.get(n.node),r=e.isColSelection&&e.isColSelection(),o=e.isRowSelection&&e.isRowSelection(),i=function(n,e,t){var r=[],o=document.createElement("div");return o.classList.add("tina_table_header_ext_top_left"),e&&t&&o.classList.add("tina_table_header_ext_top_left_selected"),r.push(f.Decoration.widget(n.start+2,o)),r}(n,r,o);return D(i=D(i,function(n,e,t,r){for(var o=[],i=e.map,a=function(e){var a=document.createElement("div");a.classList.add("tina_table_header_ext_top"),r&&t.ranges.some((function(t){return t.$from.pos===n.start+i[e]+1}))&&a.classList.add("tina_table_header_ext_top_selected"),o.push(f.Decoration.widget(n.start+i[e]+1,a))},l=0;l<e.width;l++)a(l);return o}(n,t,e,r)),function(n,e,t,r){for(var o=[],i=e.map,a=function(a){var l=document.createElement("div");l.classList.add("tina_table_header_ext_left"),r&&t.ranges.some((function(t){return t.$from.pos===n.start+i[a*e.width]+1}))&&l.classList.add("tina_table_header_ext_left_selected"),o.push(f.Decoration.widget(n.start+i[a*e.width]+1,l))},l=0;l<e.height;l++)a(l);return o}(n,t,e,o))}(a,o);if(c.length)return{deco:f.DecorationSet.create(r.doc,c),tableMap:m.TableMap.get(a.node),selectedTable:a}}}return{deco:f.DecorationSet.empty}}},props:{decorations:function(n){return this.getState(n).deco},handleClickOn:function(n,e,t,r,o,i){if(!i)return!1;var a=o.target.classList,l=n.state,s=n.dispatch,c=Se.getState(l),d=c.tableMap,u=c.selectedTable,p=function(n,e,t,r,o){return e.includes("tina_table_header_ext_top_left")?function(n,e,t,r){return new m.CellSelection(r.resolve(e.map[e.map.length-1]+t.start),r.resolve(n))}(n,t,r,o.doc):e.includes("tina_table_header_ext_left")?function(n,e,t,r){var o=e.width,i=e.map.findIndex((function(e){return e===n-t.start}));return new m.CellSelection(r.resolve(e.map[i+o-1]+t.start),r.resolve(n))}(n,t,r,o.doc):e.includes("tina_table_header_ext_top")?function(n,e,t,r){var o=e.width,i=e.height,a=e.map.findIndex((function(e){return e===n-t.start}));return new m.CellSelection(r.resolve(e.map[a+o*(i-1)]+t.start),r.resolve(n))}(n,t,r,o.doc):void 0}(r,a.value,d,u,l);return p&&s(l.tr.setSelection(p)),!1}}});function Te(){return z.createElement(J,{"data-tooltip":"Table",disabled:!0},z.createElement(i.TableIcon,null))}var Ae=U((function(n,e){var t=n.schema.nodes,r=t.table,o=t.code_block,i=n.selection,a=i.$to.node(i.$to.depth);return(!a||a.type!==o)&&!p.findParentNodeOfType(r)(i)&&function(n,e){if(!e)return!0;for(var t=n.schema.nodes,r=t.table_cell,o=t.table_header,i=t.table_row,a=t.table,l=[],s=[],d=0;d<3;d+=1)s.push(ze(o)),l.push(ze(r));var u=[];for(d=0;d<3;d+=1)u.push(i.createChecked(null,0===d?s:l));var p=a.createChecked(null,u),f=n.selection,m=n.tr,h=f.$from,g=f.$to,b=h.pos-1,v=g.pos<n.doc.content.size?g.pos+1:g.pos;return e(m.replaceWith(b,v,p).setSelection(new c.TextSelection(m.doc.resolve(h.pos+1))).scrollIntoView()),!0}(n,e)}),i.TableIcon,0,"Table");function Pe(n){return n}var Le=(Oe.prototype.updateImgSrc=function(n){return L(this,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:if(!this.img)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),e=this.img,[4,this.previewSrc(n)];case 2:return e.src=t.sent(),[3,4];case 3:return t.sent(),this.img.src=n,[3,4];case 4:return[2]}}))}))},Oe.prototype.update=function(n){if(this.img){var e=n.attrs,t=e.alt,r=e.title;t&&(this.img.alt=t),r&&(this.img.title=r)}return!0},Oe);function Oe(n,e,t){var r=this;void 0===t&&(t=Pe),this.previewSrc=t,this.selectNode=function(){r.img&&(r.img.style.outline="4px solid #0084FF",r.img.classList.add("tina-selected-image"))},this.deselectNode=function(){r.img&&(r.img.style.outline="",r.img.classList.remove("tina-selected-image"))},this.destroy=function(){r.deselectNode()},this.node=n,this.view=e,this.dom=document.createElement("span"),this.dom.classList.add("tinacms-image-wrapper"),this.img=document.createElement("img");var o=n.attrs,i=o.src,a=o.align,l=o.alt,s=o.title,c=o.width,d=o.height;this.updateImgSrc(i),d&&(this.img.style.height=d),c&&(this.img.style.width=c),a&&this.img.classList.add("align-"+a),l&&(this.img.alt=l),s&&(this.img.title=s),this.dom.appendChild(this.img)}function De(n,e,t){e(n.tr.setSelection(new c.NodeSelection(n.tr.doc.resolve(t))))}function Fe(n,e,t){for(var r=[],o=0;o<e.files.length;o++){var i=e.files[o];i.type.match("image.*")&&r.push(i)}if(r.length){var a=n.state,l=n.dispatch;return l(a.tr.setMeta("loading_images",r.length)),t(r).then((function(e){void 0===e&&(e=[]),l(a.tr.setMeta("loading_images",0)),function(n,e,t){if(e){var r=n.schema.nodes.image,o=n.tr;t.forEach((function(n){var e=r.createAndFill({src:n,alt:"",title:""});o.replaceSelectionWith(e)})),e(o.scrollIntoView())}}(a,l,e),n.focus()})),!0}return!1}function We(n){var e=n.uploadImages,t=r.useRef(),o=j().editorView,l=r.useState(!1),s=l[0],c=l[1],d=r.useState(""),u=d[0],p=d[1],f=r.useState(!1),m=f[0],b=f[1],v=r.useState(!1),w=v[0],k=v[1];if(!e)return null;function y(n){k(!0),e([n]).then((function(n){void 0===n&&(n=[]),p(n[0]),k(!1)}))}function x(n){n.preventDefault(),n.stopPropagation()}function C(){p(""),b(!m)}return z.createElement(z.Fragment,null,z.createElement(J,{title:"Image",ref:t,onClick:C},z.createElement(i.MediaIcon,null)),z.createElement(hn,{triggerRef:t,open:m,onKeyDown:function(n){"Escape"===n.key&&b(!1)}},z.createElement(a.Dismissible,{click:!0,escape:!0,disabled:!m,onDismiss:function(){b(!1)}},z.createElement(yt,null,z.createElement(Et,{htmlFor:"fileInput",onClick:function(n){return n.stopPropagation()}},z.createElement(_t,{id:"fileInput",onChange:function(n){var e=n.target.files;e[0]&&y(e[0])},type:"file",accept:"image/*"}),z.createElement(Mt,{onDragEnter:x,onDragOver:x,onDrop:function(n){x(n);for(var e=n.dataTransfer,t=e.items,r=e.files,o=t||r,i=!!t,a=0;a<o.length;a+=1)if((!i||"file"===o[a].kind)&&o[a].type.match("^image/")){var l=i?o[a].getAsFile():o[a];l&&y(l)}},uploading:w,imageUrl:u},u&&z.createElement(z.Fragment,null,z.createElement(mt,{onMouseDown:function(n){p(""),n.stopPropagation()}},z.createElement(i.CloseIcon,null)),z.createElement(wt,{src:u,alt:"uploaded_image"})),!u&&z.createElement(z.Fragment,null,z.createElement(vt,null,z.createElement(i.UploadIcon,null)),z.createElement(Ct,null,!w&&"Drag and drop or click to upload",w&&"Image uploading...")))),z.createElement(ht,null,s&&z.createElement(z.Fragment,null,z.createElement(bt,{onMouseDown:function(n){return n.stopPropagation()}},z.createElement(kt,{onClick:function(){c(!1)}},"Or Enter Image URL"),z.createElement(g.Input,{small:!0,onChange:function(n){return p(n.target.value)},value:u}))),!s&&z.createElement(z.Fragment,null,z.createElement(gt,{onClick:function(){c(!0)}},"Or Enter Image URL"))),z.createElement(xt,null,z.createElement(h.Button,{small:!0,onClick:C},"Cancel"),z.createElement(h.Button,{primary:!0,small:!0,onClick:function(){if(o){var n=o.view;!function(n,e,t){var r=n.schema.nodes.image.createAndFill({src:t,alt:"",title:""});e&&e(n.tr.replaceSelectionWith(r).scrollIntoView())}(n.state,n.dispatch,u),o.view.focus(),b(!1),p("")}}},"Insert"))))))}function Re(n){return n.uploadImages?z.createElement(J,{"data-testid":"image-menu","data-tooltip":"Image","data-side":"top",disabled:!0},z.createElement(i.MediaIcon,null)):null}function Be(){var n=j().editorView.view,e=ft.getState(n.state);if(!e||!e.selectedImage)return null;var t=e.selectedImage,o=t.node,i=t.pos,a=n.state.schema.marks.link,l=o.marks.find((function(n){return n.type===a})),s=r.useState(o.attrs.title),d=s[0],u=s[1],p=r.useState(o.attrs.alt),f=p[0],m=p[1],g=r.useState(l&&l.attrs.title),v=g[0],w=g[1],k=r.useState(l&&l.attrs.href),y=k[0],x=k[1],C=n.coordsAtPos(i),M=C.top,_=C.left,E=r.useState(M),I=E[0],S=E[1],N=r.useState(_),T=N[0],P=N[1],L=r.useRef(),O=r.useRef(),D=r.useRef(),F=r.useState(!!l),W=F[0],R=F[1];function B(n){var e=document.getElementsByClassName("tina-selected-image")[0],t=document.getElementsByClassName("wysiwyg-wrapper")[0];if(e&&(D.current!==e||n)&&L.current){D.current=e;var r=L.current.getBoundingClientRect();P(e.clientWidth/2+ln(e,t)-r.width/2),S(an(e,t))}}function $(){var e=n.dispatch,t=n.state,r=t.schema.nodes.image,a=t.schema.marks.link,l=t.tr;W&&(y||v)?l.addMark(i,i+1,a.create({href:y,title:v})):l.removeMark(i,i+1,a),l.setNodeMarkup(i,r,A(A({},o.attrs),{alt:f,title:d})).setSelection(new c.NodeSelection(l.doc.resolve(i))),e(l),q(),n.focus()}r.useEffect((function(){var n=b((function(){return B(!0)}),10);return window.addEventListener("scroll",n),function(){window.removeEventListener("scroll",n)}})),r.useEffect((function(){w(l?l.attrs.title:""),x(l?l.attrs.href:""),R(!!l)}),[l]),r.useEffect((function(){u(o.attrs.title),m(o.attrs.alt)}),[e.selectedImage.node]),r.useEffect((function(){setTimeout((function(){O.current&&O.current.focus()}))}),[O]),r.useEffect(B);var q=function(){(0,n.dispatch)(n.state.tr.setMeta("image_clicked",!1)),u(""),m(""),w(""),x(""),n.focus()};return z.createElement(h.StyleReset,null,z.createElement(zt,{top:I,left:T,ref:L,onKeyDown:function(n){"Escape"===n.key&&q(),"Enter"===n.key&&$()}},z.createElement(It,null,"Title"),z.createElement(St,{placeholder:"Enter Title",type:"text",ref:O,value:d,onChange:function(n){return u(n.target.value)}}),z.createElement(It,null,"Alt"),z.createElement(St,{placeholder:"Enter Alt Text",type:"text",value:f,onChange:function(n){return m(n.target.value)}}),z.createElement(Pt,null,z.createElement(Dt,{id:"toggleImageLink",onChange:function(){R(!W),W||(w(""),x(""))},type:"checkbox"}),z.createElement(Lt,{htmlFor:"toggleImageLink",role:"switch"},"Insert Link",z.createElement(Ot,{checked:W},z.createElement("span",null)))),W&&z.createElement(z.Fragment,null,z.createElement(It,null,"Link Title"),z.createElement(St,{placeholder:"Enter Link Title",type:"text",value:v,onChange:function(n){return w(n.target.value)}}),z.createElement(It,null,"Link URL"),z.createElement(St,{placeholder:"Enter Link URL",type:"text",value:y,onChange:function(n){return x(n.target.value)}})),z.createElement(Nt,null,z.createElement(At,{onClick:q},"Cancel"),z.createElement(Tt,{onClick:$},"Save"))))}function $e(){var n=document.getElementsByClassName("image_loading_indicator");if(!n.length)return null;for(var e=[],t=0;t<n.length;t++)e.push(S.createPortal(z.createElement(Ft,null),n[0]));return z.createElement(z.Fragment,null,e)}var qe,He,je,Ue,Ve,Ke,Ge,Xe,Ze,Ye,Je,Qe,nt,et,tt,rt,ot,it,at,lt,st,ct,dt,ut,pt,ft=new c.PluginKey("image"),mt=I.button.withConfig({displayName:"ClearImageButton",componentId:"sc-2s8cw9"})(qe=qe||F(["\n  background: none;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  border-radius: var(--tina-radius-big);\n  box-shadow: var(--tina-shadow-small);\n  background-color: var(--tina-color-grey-0);\n  border: 1px solid var(--tina-color-grey-2);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n  }\n\n  svg {\n    fill: var(--tina-color-primary);\n    width: 22px;\n    height: 22px;\n  }\n"],["\n  background: none;\n  border: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  outline: none;\n  width: 32px;\n  height: 32px;\n  padding: 0;\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  border-radius: var(--tina-radius-big);\n  box-shadow: var(--tina-shadow-small);\n  background-color: var(--tina-color-grey-0);\n  border: 1px solid var(--tina-color-grey-2);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n  }\n\n  svg {\n    fill: var(--tina-color-primary);\n    width: 22px;\n    height: 22px;\n  }\n"])),ht=I.div.withConfig({displayName:"UrlInputWrapper",componentId:"sc-17ay0f0"})(He=He||F(["\n  display: flex;\n  margin-bottom: var(--tina-padding-small);\n"],["\n  display: flex;\n  margin-bottom: var(--tina-padding-small);\n"])),gt=I.button.withConfig({displayName:"UrlInputTrigger",componentId:"sc-1ft31gb"})(je=je||F(["\n  background: none;\n  border: none;\n  outline: none;\n  color: var(--tina-color-primary);\n  cursor: pointer;\n  transition: all 80ms ease-out;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  padding: 0;\n\n  &:hover {\n    text-decoration: underline;\n    text-decoration-color: var(--tina-color-primary-light);\n  }\n"],["\n  background: none;\n  border: none;\n  outline: none;\n  color: var(--tina-color-primary);\n  cursor: pointer;\n  transition: all 80ms ease-out;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  padding: 0;\n\n  &:hover {\n    text-decoration: underline;\n    text-decoration-color: var(--tina-color-primary-light);\n  }\n"])),bt=I.div.withConfig({displayName:"UrlInput",componentId:"sc-dmqtq1"})(Ue=Ue||F([""],[""])),vt=I.div.withConfig({displayName:"UploadIconWrapper",componentId:"sc-1ien2vy"})(Ve=Ve||F(["\n  display: flex;\n  justify-content: center;\n  margin-top: -7px;\n  svg {\n    width: 50px;\n    height: auto;\n    fill: var(--tina-color-primary);\n  }\n"],["\n  display: flex;\n  justify-content: center;\n  margin-top: -7px;\n  svg {\n    width: 50px;\n    height: auto;\n    fill: var(--tina-color-primary);\n  }\n"])),wt=I.img.withConfig({displayName:"CurrentImage",componentId:"sc-5ftn0a"})(Ke=Ke||F(["\n  display: block;\n  width: 100%;\n  margin: 0;\n"],["\n  display: block;\n  width: 100%;\n  margin: 0;\n"])),kt=I.label.withConfig({displayName:"ImageInputLabel",componentId:"sc-1w13j46"})(Ge=Ge||F(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 8px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n"],["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 8px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n"])),yt=I.div.withConfig({displayName:"ImageModalContent",componentId:"sc-tzh7nw"})(Xe=Xe||F(["\n  background: var(--tina-color-grey-1);\n  padding: var(--tina-padding-small);\n  font-family: var(--tina-font-family);\n\n  * {\n    font-family: inherit;\n  }\n"],["\n  background: var(--tina-color-grey-1);\n  padding: var(--tina-padding-small);\n  font-family: var(--tina-font-family);\n\n  * {\n    font-family: inherit;\n  }\n"])),xt=I.div.withConfig({displayName:"ImageModalActions",componentId:"sc-wy21av"})(Ze=Ze||F(["\n  display: flex;\n  margin: 0 -4px;\n  width: calc(100% + 8px);\n\n  "," {\n    flex: 1 0 auto;\n    margin: 0 4px;\n  }\n"],["\n  display: flex;\n  margin: 0 -4px;\n  width: calc(100% + 8px);\n\n  "," {\n    flex: 1 0 auto;\n    margin: 0 4px;\n  }\n"]),h.Button),Ct=I.span.withConfig({displayName:"UploadText",componentId:"sc-1s3f3uf"})(Ye=Ye||F(["\n  font-size: var(--tina-font-size-2);\n  text-align: center;\n  line-height: 1.2;\n  color: var(--tina-color-grey-10);\n  max-width: 140px;\n  white-space: break-spaces;\n  display: block;\n  margin: 0 auto;\n"],["\n  font-size: var(--tina-font-size-2);\n  text-align: center;\n  line-height: 1.2;\n  color: var(--tina-color-grey-10);\n  max-width: 140px;\n  white-space: break-spaces;\n  display: block;\n  margin: 0 auto;\n"])),Mt=I.div.withConfig({displayName:"UploadSection",componentId:"sc-1656s9g"})(Qe=Qe||F(["\n  display: block;\n  width: 100%;\n  min-width: 200px;\n  padding: var(--tina-padding-big) 0;\n  margin-bottom: var(--tina-padding-small);\n  border-radius: var(--tina-radius-big);\n  border: 3px dashed var(--tina-color-grey-3);\n  cursor: pointer;\n\n  ",";\n"],["\n  display: block;\n  width: 100%;\n  min-width: 200px;\n  padding: var(--tina-padding-big) 0;\n  margin-bottom: var(--tina-padding-small);\n  border-radius: var(--tina-radius-big);\n  border: 3px dashed var(--tina-color-grey-3);\n  cursor: pointer;\n\n  ",";\n"]),(function(n){return""!==n.imageUrl&&o.css(Je=Je||F(["\n      padding: 0;\n      border: none;\n      border-radius: var(--tina-radius-small);\n      border: 1px solid var(--tina-color-grey-2);\n    "],["\n      padding: 0;\n      border: none;\n      border-radius: var(--tina-radius-small);\n      border: 1px solid var(--tina-color-grey-2);\n    "]))})),_t=I.input.withConfig({displayName:"FileUploadInput",componentId:"sc-agpqrr"})(nt=nt||F(["\n  display: none;\n"],["\n  display: none;\n"])),Et=I.label.withConfig({displayName:"StyledLabel",componentId:"sc-1xjhtou"})(et=et||F(["\n  display: block;\n"],["\n  display: block;\n"])),zt=I.span.withConfig({displayName:"LinkPopup",componentId:"sc-m753q9"})(tt=tt||F(["\n  background-color: #f6f6f9;\n  position: absolute;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n  width: 16rem;\n  left: ",";\n  top: ",";\n"],["\n  background-color: #f6f6f9;\n  position: absolute;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n  width: 16rem;\n  left: ",";\n  top: ",";\n"]),(function(n){return n.left+"px"}),(function(n){return n.top+"px"})),It=I.label.withConfig({displayName:"LinkLabel",componentId:"sc-17asxqh"})(rt=rt||F(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"],["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"])),St=I.input.withConfig({displayName:"LinkInput",componentId:"sc-1cglpu3"})(ot=ot||F(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px var(--tina-color-primary);\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"],["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px var(--tina-color-primary);\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"])),Nt=I.div.withConfig({displayName:"LinkActions",componentId:"sc-lrhxb7"})(it=it||F(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"])),Tt=I.button.withConfig({displayName:"SaveLink",componentId:"sc-k7do4p"})(at=at||F(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: var(--tina-color-primary);\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-primary-light);\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"],["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: var(--tina-color-primary);\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-primary-light);\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"])),At=I.button.withConfig({displayName:"CancelLink",componentId:"sc-n191uw"})(lt=lt||F(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: var(--tina-color-primary);\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    opacity: 1;\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"],["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: var(--tina-color-primary);\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: var(--tina-color-grey-1);\n    opacity: 1;\n  }\n  &:active {\n    background-color: var(--tina-color-primary-dark);\n  }\n"])),Pt=I.div.withConfig({displayName:"ToggleElement",componentId:"sc-16jzohe"})(st=st||F(["\n  display: block;\n  position: relative;\n  margin: 0 0 0.5rem 0;\n"],["\n  display: block;\n  position: relative;\n  margin: 0 0 0.5rem 0;\n"])),Lt=I.label.withConfig({displayName:"ToggleLabel",componentId:"sc-gh5zpi"})(ct=ct||F(["\n  background: none;\n  color: inherit;\n  padding: 0;\n  opacity: ",";\n  outline: none;\n  height: 28px;\n  pointer-events: ",";\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n"],["\n  background: none;\n  color: inherit;\n  padding: 0;\n  opacity: ",";\n  outline: none;\n  height: 28px;\n  pointer-events: ",";\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  line-height: 1.35;\n  color: var(--tina-color-grey-8);\n"]),(function(n){return n.disabled?"0.4":"1"}),(function(n){return n.disabled?"none":"inherit"})),Ot=I.div.withConfig({displayName:"ToggleSwitch",componentId:"sc-1lkh695"})(dt=dt||F(["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  border-radius: var(--tina-radius-big);\n  background-color: white;\n  border: 1px solid var(--tina-color-grey-2);\n  pointer-events: none;\n  margin-left: -2px;\n  span {\n    position: absolute;\n    border-radius: var(--tina-radius-big);\n    left: 2px;\n    top: 50%;\n    width: calc(28px - 6px);\n    height: calc(28px - 6px);\n    background: ",";\n    transform: translate3d(",", -50%, 0);\n    transition: all 150ms ease-out;\n  }\n"],["\n  position: relative;\n  width: 48px;\n  height: 28px;\n  border-radius: var(--tina-radius-big);\n  background-color: white;\n  border: 1px solid var(--tina-color-grey-2);\n  pointer-events: none;\n  margin-left: -2px;\n  span {\n    position: absolute;\n    border-radius: var(--tina-radius-big);\n    left: 2px;\n    top: 50%;\n    width: calc(28px - 6px);\n    height: calc(28px - 6px);\n    background: ",";\n    transform: translate3d(",", -50%, 0);\n    transition: all 150ms ease-out;\n  }\n"]),(function(n){return n.checked?"var(--tina-color-primary)":"var(--tina-color-grey-3)"}),(function(n){return n.checked?"20px":"0"})),Dt=I.input.withConfig({displayName:"ToggleInput",componentId:"sc-tsgmpp"})(ut=ut||F(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 28px;\n  opacity: 0;\n  margin: 0;\n  cursor: ",";\n"],["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 48px;\n  height: 28px;\n  opacity: 0;\n  margin: 0;\n  cursor: ",";\n"]),(function(n){return n.disabled?"not-allowed":"pointer"})),Ft=I((function(n){var e=P(n,[]);return z.createElement("div",A({},e),z.createElement(v.LoadingDots,{color:"var(--tina-color-primary)"}))})).withConfig({displayName:"ImagePlaceholder",componentId:"sc-53hiz9"})(pt=pt||F(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 64px;\n  background-color: rgba(100, 100, 100, 0.07);\n"],["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  justify-content: center;\n  padding: 64px;\n  background-color: rgba(100, 100, 100, 0.07);\n"])),Wt=/\.(jpe?g|png)/,Rt=/\bhttps?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:;%_\+.,~#?&//=]*)/g,Bt=new c.PluginKey("image");function $t(n,e){var t=(window.$cursor=n).index(),r=n.indexAfter();t===n.parent.childCount&&(t--,r--);var o=e.isInSet(n.parent.child(t).marks);if(o){for(var i=function(e){return o.isInSet(n.parent.child(e).marks)};0<t&&i(t-1);)t--;for(;r<n.parent.childCount&&i(r);)r++;for(var a=n.start(),l=a,s=0;s<r;s++){var c=n.parent.child(s).nodeSize;s<t&&(a+=c),l+=c}return{from:a,to:l,mark:o}}}function qt(n,e){var t=n.schema,r=n.selection,o=t.marks;if(r.empty&&!sn(n,o.link))return!1;var i=n.tr.setMeta("show_link_toolbar",!0);if(!sn(n,o.link)){var a=r.$to,l=r.$from;i.addMark(l.pos,a.pos,o.link.create({href:"",title:""}))}return e(i)}function Ht(){return z.createElement(J,{"data-tooltip":"Link","data-side":"top",disabled:!0},z.createElement(i.LinkIcon,null))}var jt,Ut=tn({mark:"link",Icon:i.LinkIcon,tooltip:cn("Link Mod-K"),selectionOnly:!0,noMix:["code"],isDisabled:function(n){var e=n.state,t=e.schema,r=e.selection,o=t.marks,i=t.nodes;if(r.empty&&!sn(n.state,o.link))return!0;var a=r.$from.node(),l=ft.getState(n.state);return!!(null==l?void 0:l.selectedImage)||a&&a.type===i.code_block},onMenuOptionClick:function(n){return qt(n.state,n.dispatch)}}),Vt=(T(Kt,jt=r.Component),Kt.prototype.componentDidMount=function(){document.addEventListener("keydown",this.onEscapeCancel),this.inputRef.current&&this.inputRef.current.focus()},Kt.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.onEscapeCancel)},Kt.prototype.componentDidUpdate=function(n){var e=this.props.href;e!==n.href&&this.setState((function(){return{href:e}}))},Kt.prototype.closeModal=function(){var n=this.state.href,e=this.props,t=e.cancel,r=e.removeLink,o=e.href;n||o||r(),t()},Kt.prototype.render=function(){var n=this.props,e=n.removeLink,t=n.style,o=void 0===t?{}:t,i=this.state.href;return r.createElement(ir,{style:A({},o)},r.createElement(ar,null,"URL"),r.createElement(lr,{ref:this.inputRef,placeholder:"Enter URL",type:"text",value:i,onChange:this.setHref,onKeyPress:this.onEnterSave}),r.createElement(sr,null,r.createElement(dr,{onClick:e},"Delete"),r.createElement(cr,{onClick:this.save,disabled:!i},"Save")))},Kt);function Kt(){var n=null!==jt&&jt.apply(this,arguments)||this;return n.state={href:n.props.href||""},n.inputRef=r.createRef(),n.setHref=function(e){var t=e.target.value;return n.setState((function(){return{href:t}}))},n.save=function(){return n.props.onChange(n.state)},n.onEnterSave=function(e){"Enter"===e.key&&n.save()},n.onEscapeCancel=function(e){27===e.keyCode&&n.closeModal()},n}function Gt(){var n=j().editorView,e=r.useState(void 0),t=e[0],o=e[1];if(!n)return null;var i=n.view,a=Bt.getState(i.state),l=i.state.selection,s=l.anchor,c=l.head,d=s<c?s:c,u=(i.state.selection.empty?i.domAtPos(d).node:i.domAtPos(d+1).node).parentNode,p=r.createRef();if(r.useEffect((function(){if(u&&p.current){var n=function(n,e,t){var r=n.offsetWidth,o=ln(n),i=e.parentElement.offsetWidth,a=ln(e),l=o-a+r/2-120;return l<-a?"-8px":i<l+240?"calc("+(l-(l+240-i))+"px + 8px)":l+"px"}(u,p.current),e="calc(32px + "+(an(u)-an(p.current))+"px)",t=function(n,e){var t=n.offsetWidth;return ln(n)-ln(e)+t/2+"px"}(u,p.current);o({arrowOffset:t,left:n,top:e})}else o(void 0)}),[a]),!a.show_link_toolbar)return null;var f=t||{},m=f.arrowOffset,g=f.left,b=f.top,v=i.state,w=i.dispatch,k="",y=vn(v,v.schema.marks.link);return y&&(k=y.attrs.href),r.createElement("div",{ref:p,style:{position:"absolute"}},t&&r.createElement(h.StyleReset,null,r.createElement(ur,null,r.createElement(pr,{offset:m,top:b}),r.createElement(Vt,{style:{left:g,top:b,width:"240px"},removeLink:function(){return function(n,e){if(e){var t=n.selection,r=n.schema,o=n.tr,i=$t(t.$anchor,r.marks.link);i&&o.removeMark(i.from,i.to,i.mark),o.setMeta("show_link_toolbar",!1),e(o)}return!0}(v,w)},onChange:function(n){!function(n,e,t){if(e){var r=n.selection,o=n.schema,i=n.tr,a=$t(r.$anchor,o.marks.link);a&&i.addMark(a.from,a.to,o.marks.link.create(t)),i.setMeta("show_link_toolbar",!1),e(i)}}(i.state,i.dispatch,n),i.focus()},href:k,cancel:function(){!function(n){(0,n.dispatch)(n.state.tr.setMeta("show_link_toolbar",!1))}(i),i.focus()}}))))}var Xt,Zt,Yt,Jt,Qt,nr,er,tr,rr,or=o.keyframes(Xt=Xt||F(["\n  0% {\n    transform: scale3d(0.5,0.5,1)\n  }\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n"],["\n  0% {\n    transform: scale3d(0.5,0.5,1)\n  }\n  100% {\n    transform: scale3d(1, 1, 1);\n  }\n"])),ir=I.div.withConfig({displayName:"LinkPopup",componentId:"sc-qmluxd"})(Zt=Zt||F(["\n  background-color: #f6f6f9;\n  position: relative;\n  height: max-content;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  animation: "," 85ms ease-out both 1;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n"],["\n  background-color: #f6f6f9;\n  position: relative;\n  height: max-content;\n  border-radius: var(--tina-radius-small);\n  border: 1px solid var(--tina-color-grey-2);\n  filter: drop-shadow(0px 4px 8px rgba(48, 48, 48, 0.1))\n    drop-shadow(0px 2px 3px rgba(0, 0, 0, 0.12));\n  transform-origin: 50% 0;\n  animation: "," 85ms ease-out both 1;\n  overflow: visible;\n  padding: 12px;\n  z-index: 10;\n"]),or),ar=I.label.withConfig({displayName:"LinkLabel",componentId:"sc-wnlxjr"})(Yt=Yt||F(["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"],["\n  display: block;\n  font-size: var(--tina-font-size-1);\n  font-weight: 600;\n  letter-spacing: 0.01em;\n  color: var(--tina-color-grey-8);\n  margin-bottom: 3px;\n"])),lr=I.input.withConfig({displayName:"LinkInput",componentId:"sc-1xltqt7"})(Jt=Jt||F(["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px #0084ff;\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"],["\n  position: relative;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  font-size: var(--tina-font-size-1);\n  line-height: 1.35;\n  transition: all 85ms ease-out;\n  padding: 8px 12px;\n  border: 1px solid var(--tina-color-grey-2);\n  width: 100%;\n  margin: 0 0 8px 0;\n  outline: none;\n  box-shadow: 0 0 0 2px transparent;\n\n  &:hover {\n    box-shadow: 0 0 0 2px var(--tina-color-grey-3);\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 2px #0084ff;\n  }\n\n  &::placeholder {\n    font-size: var(--tina-font-size-2);\n    color: #cfd3d7;\n  }\n"])),sr=I.div.withConfig({displayName:"LinkActions",componentId:"sc-p0u2mq"})(Qt=Qt||F(["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  padding-top: 4px;\n"])),cr=I.button.withConfig({displayName:"SaveLink",componentId:"sc-k0ci4k"})(nr=nr||F(["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: #0084ff;\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #2296fe;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n  &:disabled {\n    background-color: #d1d1d1;\n    box-shadow: none;\n  }\n"],["\n  text-align: center;\n  border: 0;\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: #0084ff;\n  color: white;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #2296fe;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n  &:disabled {\n    background-color: #d1d1d1;\n    box-shadow: none;\n  }\n"])),dr=I.button.withConfig({displayName:"DeleteLink",componentId:"sc-3n6305"})(er=er||F(["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: #0084ff;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #f6f6f9;\n    opacity: 1;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n"],["\n  text-align: center;\n  border: 1px solid var(--tina-color-grey-2);\n  border-radius: var(--tina-radius-big);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  background-color: white;\n  color: #0084ff;\n  font-weight: var(--tina-font-weight-regular);\n  cursor: pointer;\n  transition: all 85ms ease-out;\n  font-size: var(--tina-font-size-0);\n  padding: 8px 20px;\n  margin-left: 8px;\n  &:hover {\n    background-color: #f6f6f9;\n    opacity: 1;\n  }\n  &:active {\n    background-color: #0574e4;\n  }\n"])),ur=I.div.withConfig({displayName:"LinkFormWrapper",componentId:"sc-12whjw4"})(tr=tr||F(["\n  position: relative;\n"],["\n  position: relative;\n"])),pr=I.div.withConfig({displayName:"LinkArrow",componentId:"sc-7m02xn"})(rr=rr||F(["\n  position: absolute;\n  top: ",";\n  left: ",";\n  margin-top: 3px;\n  transform: translate3d(-50%, -100%, 0);\n  width: 16px;\n  height: 13px;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  background-color: #f6f6f9;\n  z-index: 100;\n"],["\n  position: absolute;\n  top: ",";\n  left: ",";\n  margin-top: 3px;\n  transform: translate3d(-50%, -100%, 0);\n  width: 16px;\n  height: 13px;\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n  background-color: #f6f6f9;\n  z-index: 100;\n"]),(function(n){return n.top}),(function(n){return n.offset}));function fr(n){var e=n.sticky,t=void 0===e||e,o=n.menus,i=n.plugins,a=n.popups,l=r.useState(!1),s=l[0],c=l[1],d="undefined"!=typeof window,u=r.useRef(null),p=r.useState(null),f=p[0],m=p[1],h="string"==typeof t?t:"0",g=j().editorView,b=$().mode;r.useEffect((function(){u.current&&t&&m(u.current.getBoundingClientRect())}),[u,g,b]),r.useLayoutEffect((function(){if(d&&u.current&&t){var n=function(){var n=u.current.parentElement,e=n?n.offsetTop:0,t=n?e+n.offsetHeight:0;window.scrollY>e&&window.scrollY<t?c(!0):c(!1)},e=function(){if(u.current){var n=s;c(!1),m(u.current.getBoundingClientRect()),c(n)}};return n(),window.addEventListener("scroll",n),window.addEventListener("resize",e),function(){window.removeEventListener("scroll",n),window.removeEventListener("resize",e)}}}),[u,f]);var v=z.useCallback((function(n){n.stopPropagation(),n.preventDefault()}),[]);return z.createElement(z.Fragment,null,s&&z.createElement(yr,{menuBoundingBox:f}),z.createElement(xr,{menuFixedTopOffset:h,menuFixed:s,menuBoundingBox:f,ref:u,"data-testid":"base-menubar"},z.createElement(on,null,z.createElement(Cr,{onMouseDown:v},o,null==i?void 0:i.map((function(n){var e=n.name,t=n.MenuItem;return z.createElement(t,{key:e,mode:b,editorView:g})}))))),a)}function mr(n){var e=n.plugins,t=n.uploadImages,r=P(n,["plugins","uploadImages"]);return z.createElement(fr,A({},r,{menus:[z.createElement(In,null),z.createElement(ae,null),z.createElement(Ht,null),z.createElement(Re,{uploadImages:t}),z.createElement(Te,null),z.createElement(Ee,null),z.createElement(Xn,null),z.createElement(ye,null),z.createElement(oe,null)],plugins:e}))}function hr(n){var e=n.imageProps,t=n.onChange,o=n.value,i=n.plugins,a=n.sticky,l=r.useRef(null),s=r.useState(o),c=s[0],d=s[1],u=R().browserFocused;return r.useEffect((function(){var n=l.current;n&&(n.focus({preventScroll:!0}),n.setSelectionRange(n.value.length,n.value.length))}),[]),r.useEffect((function(){var n=l.current;n&&(n.style.height="0",n.style.height=n.scrollHeight+20+"px")})),r.useEffect((function(){var n=l.current===document.activeElement;u&&n||d(o)}),[o]),r.createElement(r.Fragment,null,r.createElement(mr,{sticky:a,uploadImages:null==e?void 0:e.upload,plugins:i}),r.createElement(Mr,{"data-testid":"markdown-editing-textarea",ref:l,value:c,onChange:function(n){var e=n.target.value;d(e),t(e)},onFocus:function(n){n.preventDefault(),n.target.focus({preventScroll:!0})}}))}var gr,br,vr,wr,kr,yr=I.div.withConfig({displayName:"MenuPlaceholder",componentId:"sc-1tazicl"})(gr=gr||F(["\n  color: transparent;\n  background: transparent;\n  pointer-events: none;\n  position: relative;\n  display: block;\n  height: ","px;\n  width: ","px;\n"],["\n  color: transparent;\n  background: transparent;\n  pointer-events: none;\n  position: relative;\n  display: block;\n  height: ","px;\n  width: ","px;\n"]),(function(n){return n.menuBoundingBox.height}),(function(n){return n.menuBoundingBox.width})),xr=I.div.withConfig({displayName:"MenuWrapper",componentId:"sc-fc8oos"})(vr=vr||F(["\n  position: relative;\n  margin-bottom: 14px;\n  z-index: var(--tina-z-index-1);\n\n  ",";\n"],["\n  position: relative;\n  margin-bottom: 14px;\n  z-index: var(--tina-z-index-1);\n\n  ",";\n"]),(function(n){return n.menuFixed&&o.css(br=br||F(["\n      position: fixed;\n      width: ","px;\n      top: ",";\n    "],["\n      position: fixed;\n      width: ","px;\n      top: ",";\n    "]),n.menuBoundingBox.width,n.menuFixedTopOffset)})),Cr=I.div.withConfig({displayName:"MenuContainer",componentId:"sc-5w3wn9"})(wr=wr||F(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  position: relative;\n  top: 0;\n  width: 100%;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  border: 1px solid var(--tina-color-grey-2);\n  overflow: hidden;\n  z-index: var(--tina-z-index-0);\n"],["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  position: relative;\n  top: 0;\n  width: 100%;\n  background-color: white;\n  border-radius: var(--tina-radius-small);\n  box-shadow: 0px 2px 3px rgba(0, 0, 0, 0.12);\n  border: 1px solid var(--tina-color-grey-2);\n  overflow: hidden;\n  z-index: var(--tina-z-index-0);\n"])),Mr=I.textarea.withConfig({displayName:"EditingSection",componentId:"sc-evr6wn"})(kr=kr||F(["\n  border: none;\n  font-family: monospace;\n  font-size: 16px;\n  margin: 10px 0;\n  resize: none;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n"],["\n  border: none;\n  font-family: monospace;\n  font-size: 16px;\n  margin: 10px 0;\n  resize: none;\n  width: 100%;\n  &:focus {\n    outline: none;\n  }\n"]));function _r(n){var e={};for(var t in n)n[t]&&(e["forestry-"+t]=n[t]);return e}function Er(n){var e={};for(var t in n)n[t]&&(e[t]=n[t]);return e}function zr(n){return function(e){return A(A({},n),Ir(e))}}function Ir(n){for(var e={},t=n.attributes,r=0;r<t.length;r++){var o=t[r];o.value&&(e[o.name.startsWith("forestry-")?o.name.slice(9):o.name]=o.value)}return e}var Sr={attrs:{level:{default:1},class:{default:""},id:{default:""}},content:"inline*",marks:"_",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:zr({level:1})},{tag:"h2",getAttrs:zr({level:2})},{tag:"h3",getAttrs:zr({level:3})},{tag:"h4",getAttrs:zr({level:4})},{tag:"h5",getAttrs:zr({level:5})},{tag:"h6",getAttrs:zr({level:6})}],toDocument:function(n){var e=n.attrs;return["h"+e.level,Er(P(e,["level"])),0]},toDOM:function(n){var e=n.attrs;return["h"+e.level,_r(P(e,["level"])),0]}},Nr={inline:!0,attrs:{src:{},align:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}},group:"inline",draggable:!0,allowGapCursor:!0,parseDOM:[{tag:"img[src]",getAttrs:function(n){return{src:n.getAttribute("src"),title:n.getAttribute("title"),alt:n.getAttribute("alt"),align:function(n){var e=n.getAttribute("class")||"",t=Tr.exec(e);return t&&1<t.length?t[1]:null}(n),width:n.getAttribute("width"),height:n.getAttribute("height")}}}],toDOM:function(n){var e={src:n.attrs.src};return n.attrs.title&&(e.title=n.attrs.title),n.attrs.alt&&(e.alt=n.attrs.alt),n.attrs.width&&(e.width=n.attrs.width),n.attrs.height&&(e.height=n.attrs.height),n.attrs.align&&(e.class="align-"+n.attrs.align),["img",e]}},Tr=/align-([a-z]*)/,Ar={content:"inline*",marks:"_",attrs:{class:{default:""},id:{default:""}},group:"block",parseDOM:[{tag:"p",getAttrs:Ir}],toDocument:function(n){return["p",Er(n.attrs),0]},toDOM:function(n){return["p",_r(n.attrs),0]}},Pr=m.tableNodes({tableGroup:"block",cellContent:"inline*",cellAttributes:{}});function Lr(){}Pr.table_cell=A(A({},Pr.table_cell),{marks:"_",attrs:A(A({},Pr.table_cell.attrs),{align:{default:null}}),toDOM:function(n){var e={};return n.attrs.align&&(e.style="text-align: "+n.attrs.align+";"),["td",e,0]}}),Pr.table_header=A(A({},Pr.table_header),{marks:"_",attrs:A(A({},Pr.table_header.attrs),{align:{default:null}}),toDOM:function(n){var e={};return n.attrs.align&&(e.style="text-align: "+n.attrs.align+";"),["th",e,0]}});var Or={code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code"]},excludes:"em strong strike"},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:function(n){return"italic"===n&&null}}],toDOM:function(){return["em"]},excludes:"code"},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(n){return{href:n.getAttribute("href"),title:n.getAttribute("title")}}}],toDOM:function(n){return["a",n.attrs]},toDocument:function(n){return["a",n.attrs]}},strike:{parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(n){return"line-through"===n&&null}}],toDOM:function(){return["s",0]},excludes:"code"},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(n){return"normal"!=n.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(n){return/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}}],toDOM:function(){return["strong"]},excludes:"code"}},Dr=A({doc:{content:"block+"},paragraph:Ar,blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:function(n){return{tight:n.hasAttribute("data-tight")}}}],toDOM:function(n){return["ul",{"data-tight":n.attrs.tight?"true":null},0]}},code_block:{content:"text*",attrs:{params:{default:""}},group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(n){return{params:n.getAttribute("data-params")}}}],toDOM:function(n){return["pre",{"data-params":n.attrs.params},["code",0]]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},heading:Sr,horizontal_rule:{group:"block",allowGapCursor:!0,parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},image:Nr,list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:function(n){return{order:n.hasAttribute("start")?+(n.getAttribute("start")||0):1,tight:n.hasAttribute("data-tight")}}}],toDOM:function(n){return["ol",{start:1==n.attrs.order?null:n.attrs.order,"data-tight":n.attrs.tight?"true":null},0]}},text:{group:"inline"}},Pr),Fr=(Wr.prototype.serialize=function(n,e){void 0===e&&(e={});var t=new Br(this.nodes,this.marks,e);return t.renderContent(n),t.out},Wr);function Wr(n,e){this.nodes=n,this.marks=e}var Rr,Br=($r.prototype.flushClose=function(n){if(this.closed){if(this.atBlank()||(this.out+="\n"),null==n&&(n=2),1<n){var e=this.delim,t=/\s+$/.exec(e);t&&(e=e.slice(0,e.length-t[0].length));for(var r=1;r<n;r++)this.out+=e+"\n"}this.closed=!1}},$r.prototype.wrapBlock=function(n,e,t,r){var o=this.delim;this.write(e||n),this.delim+=n,r(),this.delim=o,this.closeBlock(t)},$r.prototype.atBlank=function(){return/(^|\n)$/.test(this.out)},$r.prototype.ensureNewLine=function(){this.atBlank()||(this.out+="\n")},$r.prototype.write=function(n){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),n&&(this.out+=n)},$r.prototype.closeBlock=function(n){this.closed=n},$r.prototype.text=function(n,e,t){for(var r=n.split("\n"),o=0;o<r.length;o++){var i=this.atBlank()||this.closed;this.write();var a=!1!==e?this.esc(r[o],i):r[o];a=t?t(a):a,this.out+=a,o!=r.length-1&&(this.out+="\n")}},$r.prototype.render=function(n,e,t,r){if("number"==typeof e)throw new Error("!");this.nodes[n.type.name](this,n,e,t,r)},$r.prototype.renderContent=function(n){var e=this;n.forEach((function(t,r,o){return e.render(t,n,o)}))},$r.prototype.renderInline=function(n,e){function t(t,a,l){void 0===l&&(l=0);var s=t?t.marks:[],c=s.findIndex((function(n){return"code"===n.type.name}));0<=c&&1<s.length&&(s=D(s.slice(0,c),s.slice(c+1,s.length),[s[c]]));var d=i;if(i="",t&&t.isText&&s.some((function(n,e,t){var o=r.marks[n.type.name];return!(!o||!o.expelEnclosingWhitespace)}))&&/^(\s*)(.*?)(\s*)$/.test(t.text||"")){var u=Array.from(/^(\s*)(.*?)(\s*)$/.exec(t.text||"")||[]),p=u[1],f=u[2],m=u[3];d+=p,i=m,(p||m)&&((t=f?t.withText(f):null)||(s=o))}var h=s.length&&s[s.length-1],g=h&&!1===r.marks[h.type.name].escape,b=s.length-(g?1:0);n:for(var v=0;v<b;v++){var w=s[v];if(!r.marks[w.type.name].mixable)break;for(var k=0;k<o.length;k++){var y=o[k];if(!r.marks[y.type.name].mixable)break;if(w.eq(y)){k<v?s=s.slice(0,k).concat(w).concat(s.slice(k,v)).concat(s.slice(v+1,b)):v<k&&(s=s.slice(0,v).concat(s.slice(v+1,k)).concat(w).concat(s.slice(k,b)));continue n}}}for(var x=0;x<Math.min(o.length,b)&&s[x].eq(o[x]);)++x;for(;x<o.length;)r.text(r.markString(o.pop(),!1,t),!1);if(d&&r.text(d),t){for(;o.length<b;){var C=s[o.length];o.push(C),r.text(r.markString(C,!0,t),!1)}g&&t.isText&&h?r.text(r.markString(h,!1,t)+t.text+r.markString(h,!0,t),!1,e):r.render(t,n,l,e)}}var r=this,o=[],i="";n.forEach(t),t(null)},$r.prototype.renderList=function(n,e,t){var r=this;this.closed&&this.closed.type==n.type?this.flushClose(3):this.inTightList&&this.flushClose(1);var o=this.options.tightLists,i=this.inTightList;this.inTightList=!!o,n.forEach((function(i,a,l){l&&o&&r.flushClose(1),r.wrapBlock(e,t(l),n,(function(){return r.render(i,n,l)}))})),this.inTightList=i},$r.prototype.esc=function(n,e){return n=n.replace(/[`\\~\[\]]/g,"\\$&"),e&&(n=n.replace(/^[#\-*+]/,"\\$&").replace(/^(\d+)\./,"$1\\.")),n},$r.prototype.quote=function(n){var e=-1==n.indexOf('"')?'""':-1==n.indexOf("'")?"''":"()";return e[0]+n+e[1]},$r.prototype.repeat=function(n,e){for(var t="",r=0;r<e;r++)t+=n;return t},$r.prototype.markString=function(n,e,t){var r=this.marks[n.type.name],o=e?r.open:r.close;return"string"==typeof o?o:o(this,n,t)},$r.prototype.getEnclosingWhitespace=function(n){return{leading:(n.match(/^(\s+)/)||[])[0],trailing:(n.match(/(\s+)$/)||[])[0]}},$r);function $r(n,e,t){this.nodes=n,this.marks=e,this.delim=this.out="",this.closed=!1,this.inTightList=!1,this.options=t||{},void 0===this.options.tightLists&&(this.options.tightLists=!1)}var qr=t("yDJ3"),Hr=((Rr={})["text-align:left"]="left",Rr["text-align:center"]="center",Rr["text-align:right"]="right",Rr),jr={left:":---",center:":---:",right:"---:"},Ur={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list"},ordered_list:{block:"ordered_list",getAttrs:function(n){return{order:+n.attrGet("order")||1}}},heading:{block:"heading",getAttrs:function(n){return{level:+n.tag.slice(1)}}},code_block:{block:"code_block"},fence:{block:"code_block",getAttrs:function(n){return{params:n.info||""}}},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:function(n){return{src:n.attrGet("src"),title:n.attrGet("title")||null,alt:n.children[0]&&n.children[0].content||null,width:n.attrGet("width")||null,height:n.attrGet("height")||null}}},table:{block:"table"},table_row:{block:"table_row"},table_cell:{block:"table_cell",getAttrs:function(n){var e="";if(n.attrs)for(var t=0;t<n.attrs.length;t++)"style"===n.attrs[t][0]&&(e=n.attrs[t][1]);return{align:Hr[e]}}},table_header:{block:"table_header",getAttrs:function(n){var e="";if(n.attrs)for(var t=0;t<n.attrs.length;t++)"style"===n.attrs[t][0]&&(e=n.attrs[t][1]);return{align:Hr[e]}}},hardbreak:{node:"hard_break"},em:{mark:"em"},strike:{mark:"strike"},strong:{mark:"strong"},link:{mark:"link",getAttrs:function(n){return{href:n.attrGet("href"),title:n.attrGet("title")||null}}},code_inline:{mark:"code"}},Vr={blockquote:function(n,e){n.wrapBlock("> ",null,e,(function(){return n.renderContent(e)}))},code_block:function(n,e){e.attrs.params?(n.write("```"+e.attrs.params+"\n"),n.text(e.textContent,!1),n.ensureNewLine(),n.write("```"),n.closeBlock(e)):n.wrapBlock("    ",null,e,(function(){return n.text(e.textContent,!1)}))},heading:function(n,e){/\n/.test(e.textContent)&&e.attrs.level<3?(n.renderInline(e),n.write("\n"),n.write(1===e.attrs.level?"=":"-")):(n.write(n.repeat("#",e.attrs.level)+" "),n.renderInline(e)),n.closeBlock(e)},horizontal_rule:function(n,e){n.write(e.attrs.markup||"***"),n.closeBlock(e)},bullet_list:function(n,e){n.renderList(e,"  ",(function(){return(e.attrs.bullet||"*")+" "}))},ordered_list:function(n,e){var t=e.attrs.order||1,r=String(t+e.childCount-1).length,o=n.repeat(" ",r+2);n.renderList(e,o,(function(e){var o=String(t+e);return n.repeat(" ",r-o.length)+o+". "}))},list_item:function(n,e){n.renderContent(e)},paragraph:function(n,e,t,r){n.renderInline(e),n.closeBlock(e)},image:function(n,e){var t="";(e.attrs.height||e.attrs.width)&&(t=" ="+(e.attrs.width||"")+"x"+(e.attrs.height||""));var r=n.esc(e.attrs.alt||""),o=n.esc(e.attrs.src),i=e.attrs.title?" "+n.quote(e.attrs.title):"";n.write("!["+r+"]("+o+i+t+")")},hard_break:function(n,e,t,r){if(t&&"number"==typeof r)for(var o=r+1;o<t.childCount;o++)if(t.child(o).type!=e.type)return void n.write("  \n")},text:function(n,e,t,r,o){"string"==typeof e.text&&n.text(e.text,!0,o)},table:function(n,e){var t=!0;e.forEach((function(e){var r="table_cell"===e.content.child(0).type.name;if(t&&r){n.write("|");for(var o=0;o<e.childCount;o++){var i=e.content.child(o).attrs.align,a=jr[i]||"---";n.write(" "+a+" |")}n.write("\n"),t=!1}Vr.table_row(n,e)})),n.closeBlock(e)},table_row:function(n,e){n.write("|"),n.renderContent(e),n.write("\n")},table_cell:function(n,e){n.write(" "),n.renderInline(e,(function(n){return n.replace(/[\|]/g,"\\$&")})),n.write(" |")},table_header:function(n,e){Vr.table_cell(n,e)}},Kr={em:{open:"_",close:"_",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:function(n,e,t){return qr(t,"text","").endsWith("*")?e.openedWith="__":"**"},close:function(n,e,t){if(e.openedWith){var r=e.openedWith;return e.openedWith=null,r}return qr(t,"text","").endsWith("*")?"__":"**"},mixable:!0,expelEnclosingWhitespace:!0},link:{open:"[",close:function(n,e){return"]("+n.esc(e.attrs.href)+(e.attrs.title?" "+n.quote(e.attrs.title):"")+")"}},strike:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0},code:{open:"`",close:"`",escape:!1}};function Gr(n,e,t){var r,o=e,i={ok:!1,pos:e};for(r=n.charCodeAt(e);e<t&&48<=r&&r<=57||37===r;)r=n.charCodeAt(++e);return i.ok=!0,i.pos=e,i.value=Number(n.slice(o,e)),i}function Xr(n,e,t){var r,o,i=n.utils.isSpace,a=n.utils.unescapeAll,l=e.src,s=e.posMax,c=t,d={ok:!1,pos:0,lines:0,str:""};if(60===l.charCodeAt(t)){for(t++;t<s;){if(10===(r=l.charCodeAt(t))||i(r))return d;if(62===r)return d.pos=t+1,d.str=a(l.slice(c+1,t)),d.ok=!0,d;92===r&&t+1<s?t+=2:t++}return d}for(o=0;t<s;){if(61==(r=l.charCodeAt(t))||34==r||39==r){t--;break}if(r<32||127===r)break;if(92===r&&t+1<s)t+=2;else{if(40===r&&o++,41===r){if(0===o)break;o--}t++}}return c===t||0!==o||(d.str=a(l.slice(c,t)),d.lines=0,d.pos=t,d.ok=!0),d}function Zr(n){n.inline.ruler.before("emphasis","image",function(n){return function(e,t){var r,o,i,a,l,s,c,d,u,p,f=null,m=null,h="",g=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;var v=e.pos+2,w=n.helpers.parseLinkLabel(e,e.pos+1,!1);if(w<0)return!1;if((a=w+1)<b&&40===e.src.charCodeAt(a)){for(a++;a<b&&(32===(o=e.src.charCodeAt(a))||10===o);a++);if(b<=a)return!1;for((s=Xr(n,e,p=a)).ok&&(h=s.str,e.md.validateLink(h)?a=s.pos:h=""),p=a;a<b&&(32===(o=e.src.charCodeAt(a))||10===o);a++);if(s=n.helpers.parseLinkTitle(e.src,a,e.posMax),a<b&&p!==a&&s.ok)for(c=s.str,a=s.pos;a<b&&(32===(o=e.src.charCodeAt(a))||10===o);a++);else c="";if(0<=a-1&&32===(o=e.src.charCodeAt(a-1))&&(s=function(n,e,t){var r,o={ok:!1,pos:0};if(t<=e)return o;if(61!==(r=n.charCodeAt(e)))return o;if(e++,120!==(r=n.charCodeAt(e))&&(r<48||57<r))return o;var i=Gr(n,e,t);if(e=i.pos,120!==(r=n.charCodeAt(e)))return o;var a=Gr(n,++e,t);return e=a.pos,o.width=i.value,o.height=a.value,o.pos=e,o.ok=!0,o}(e.src,a,e.posMax)).ok)for(f=s.width,m=s.height,a=s.pos;a<b&&(32===(o=e.src.charCodeAt(a))||10===o);a++);if(b<=a||41!==e.src.charCodeAt(a))return e.pos=g,!1;a++}else{if(void 0===e.env.references)return!1;for(;a<b&&(32===(o=e.src.charCodeAt(a))||10===o);a++);if(a<b&&91===e.src.charCodeAt(a)?(p=a+1,0<=(a=n.helpers.parseLinkLabel(e,a))?i=e.src.slice(p,a++):a=w+1):a=w+1,i=i||e.src.slice(v,w),!(l=e.env.references[n.utils.normalizeReference(i)]))return e.pos=g,!1;h=l.href,c=l.title}if(!t){e.pos=v,e.posMax=w;var k=new e.md.inline.State(e.src.slice(v,w),e.md,e.env,u=[]);k.md.inline.tokenize(k),(d=e.push("image","img",0)).attrs=r=[["src",h],["alt",""]],d.children=u,c&&r.push(["title",c]),null!==f&&r.push(["width",f]),null!==m&&r.push(["height",m])}return e.pos=a,e.posMax=b,!0}}(n))}function Yr(n){n.inline.ruler.before("emphasis","link",function(n){return function(e,t){var r,o,i,a,l,s,c,d=e.md.utils.normalizeReference,u=e.md.utils.isSpace,p="",f=e.pos,m=!0,h=e.pos,g=e.posMax;if(91!==e.src.charCodeAt(e.pos))return!1;var b=e.pos+1,v=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(v<0)return!1;if((a=v+1)<g&&40===e.src.charCodeAt(a)){for(m=!1,a++;a<g&&(u(o=e.src.charCodeAt(a))||10===o);a++);if(g<=a)return!1;for((l=Xr(n,e,f=a)).ok&&(p=l.str,e.md.validateLink(p)?a=l.pos:p=""),f=a;a<g&&(u(o=e.src.charCodeAt(a))||10===o);a++);if(l=e.md.helpers.parseLinkTitle(e.src,a,e.posMax),a<g&&f!==a&&l.ok)for(c=l.str,a=l.pos;a<g&&(u(o=e.src.charCodeAt(a))||10===o);a++);else c="";(g<=a||41!==e.src.charCodeAt(a))&&(m=!0),a++}if(m){if(void 0===e.env.references)return!1;if(a<g&&91===e.src.charCodeAt(a)?(f=a+1,0<=(a=e.md.helpers.parseLinkLabel(e,a))?i=e.src.slice(f,a++):a=v+1):a=v+1,i=i||e.src.slice(b,v),!(s=e.env.references[d(i)]))return e.pos=h,!1;p=s.href,c=s.title}return t||(e.pos=b,e.posMax=v,e.push("link_open","a",1).attrs=r=[["href",p]],c&&r.push(["title",c]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=a,e.posMax=g,!0}}(n))}var Jr={strike:"s"},Qr=(no.prototype.top=function(){return this.stack[this.stack.length-1]},no.prototype.push=function(n){this.stack.length&&this.top().content.push(n)},no.prototype.addText=function(n){if(n){var e,t=this.top().content,r=t[t.length-1],o=this.schema.text(n,this.marks);r&&(e=function(n,e){if(n.isText&&e.isText&&w.Mark.sameSet(n.marks,e.marks))return n.copy(n.text+e.text)}(r,o))?t[t.length-1]=e:t.push(o)}},no.prototype.openMark=function(n){this.marks=n.addToSet(this.marks)},no.prototype.closeMark=function(n){this.marks=n.removeFromSet(this.marks)},no.prototype.parseTokens=function(n){for(var e=0;e<n.length;e++){var t=n[e],r=this.tokenHandlers[t.type];if(!r)throw new Error("Token type `"+t.type+"` not supported by Markdown parser");r(this,t)}},no.prototype.addNode=function(n,e,t){var r=n.createAndFill(e,t,this.marks);return r?(this.push(r),r):null},no.prototype.openNode=function(n,e){this.stack.push({type:n,attrs:e,content:[]})},no.prototype.closeNode=function(){this.marks.length&&(this.marks=w.Mark.none);var n=this.stack.pop();if(n)return this.addNode(n.type,n.attrs,n.content)},no);function no(n,e){this.schema=n,this.stack=[{type:n.topNodeType,content:[]}],this.marks=w.Mark.none,this.tokenHandlers=e}function eo(n,e){return n.getAttrs?n.getAttrs(e):n.attrs instanceof Function?n.attrs(e):n.attrs}function to(n){return"code_inline"==n||"code_block"==n||"fence"==n}function ro(n){return"\n"==n[n.length-1]?n.slice(0,n.length-1):n}function oo(){}var io=(ao.prototype.parse=function(n){var e,t=new Qr(this.schema,this.tokenHandlers);for(t.parseTokens(this.tokenizer.parse(n,{}));e=t.closeNode(),t.stack.length;);return e},ao);function ao(n,e,t){this.tokens=t,this.schema=n,this.tokenizer=e,this.tokenHandlers=function(n,e){function t(t){var o=e[t];if(o.block){var i=n.nodeType(o.block);to(t)?r[t]=function(n,e){n.openNode(i,eo(o,e)),n.addText(ro(e.content)),n.closeNode()}:(r[t+"_open"]=function(n,e){return n.openNode(i,eo(o,e))},r[t+"_close"]=function(n){return n.closeNode()})}else if(o.node){var a=n.nodeType(o.node);r[t]=function(n,e){return n.addNode(a,eo(o,e))}}else if(o.mark){var l=n.marks[o.mark];to(t)?r[t]=function(n,e){n.openMark(l.create(eo(o,e))),n.addText(ro(e.content)),n.closeMark(l)}:(r[(Jr[t]||t)+"_open"]=function(n,e){return n.openMark(l.create(eo(o,e)))},r[(Jr[t]||t)+"_close"]=function(n){return n.closeMark(l)})}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));to(t)?r[t]=oo:(r[t+"_open"]=oo,r[t+"_close"]=oo)}}var r=Object.create(null);for(var o in e)t(o);return r.text=function(n,e){return n.addText(e.content)},r.inline=function(n,e){return n.parseTokens(e.children)},r.softbreak=function(n){return n.addText("\n")},r}(n,t)}var lo,so=t("1M3H"),co=(T(uo,lo=Lr),uo.fromSchema=function(n){return uo.commonMarkFromSchema(n)},uo.commonMarkFromSchema=function(n){var e=new uo(n);return e.parser=function(n){var e=so({html:!1});return e.use(Zr),e.use(Yr),new io(n,e,function(n){var e={};return n.nodes.blockquote&&(e.blockquote=Ur.blockquote),n.nodes.paragraph&&(e.paragraph=Ur.paragraph),n.nodes.list_item&&(e.list_item=Ur.list_item),n.nodes.bullet_list&&(e.bullet_list=Ur.bullet_list),n.nodes.ordered_list&&(e.ordered_list=Ur.ordered_list),n.nodes.heading&&(e.heading=Ur.heading),n.nodes.code_block&&(e.code_block=Ur.code_block,e.fence=Ur.fence),n.nodes.horizontal_rule&&(e.hr=Ur.hr),n.nodes.image&&(e.image=Ur.image),n.nodes.hard_break&&(e.hardbreak=Ur.hardbreak),n.nodes.ordered_list&&(e.ordered_list=Ur.ordered_list),n.nodes.bullet_list&&(e.bullet_list=Ur.bullet_list),n.nodes.list_item&&(e.list_item=Ur.list_item),n.nodes.table&&(e.table=Ur.table,e.thead={ignore:!0},e.th=Ur.table_header,e.tbody={ignore:!0},e.tr=Ur.table_row,e.td=Ur.table_cell),n.marks.em&&(e.em=Ur.em),n.marks.strong&&(e.strong=Ur.strong),n.marks.link&&(e.link=Ur.link),n.marks.code&&(e.code_inline=Ur.code_inline),n.marks.strike&&(e.strike=Ur.strike),e}(n))}(n),e.serializer=function(n){return new Fr(function(n){var e={};return n.nodes.blockquote&&(e.blockquote=Vr.blockquote),n.nodes.paragraph&&(e.paragraph=Vr.paragraph),n.nodes.list_item&&(e.list_item=Vr.list_item),n.nodes.bullet_list&&(e.bullet_list=Vr.bullet_list),n.nodes.ordered_list&&(e.ordered_list=Vr.ordered_list),n.nodes.heading&&(e.heading=Vr.heading),n.nodes.code_block&&(e.code_block=Vr.code_block),n.nodes.horizontal_rule&&(e.horizontal_rule=Vr.horizontal_rule),n.nodes.image&&(e.image=Vr.image),n.nodes.hard_break&&(e.hard_break=Vr.hard_break),n.nodes.ordered_list&&(e.ordered_list=Vr.ordered_list),n.nodes.bullet_list&&(e.bullet_list=Vr.bullet_list),n.nodes.list_item&&(e.list_item=Vr.list_item),n.nodes.table&&(e.table=Vr.table,e.table_header=Vr.table_header,e.table_row=Vr.table_row,e.table_cell=Vr.table_cell),e.text=Vr.text,e}(n),function(n){return n.marks.em,n.marks.strong,n.marks.link,n.marks.code,Kr}(n))}(n),e},uo.prototype.nodeFromString=function(n){return this.parser.parse(n)},uo.prototype.stringFromNode=function(n){return this.serializer.serialize(n,{tightLists:!0})},uo);function uo(n){var e=lo.call(this)||this;return e.parser=null,e.serializer=null,e.schema=n,e}var po,fo=(T(mo,po=w.DOMSerializer),mo.nodesFromSchema=function(n){var e=ho(n.nodes);return e.text||(e.text=function(n){return n.text}),e},mo.marksFromSchema=function(n){return ho(n.marks)},mo);function mo(){return null!==po&&po.apply(this,arguments)||this}function ho(n){var e={};for(var t in n){var r=n[t].spec.toDocument,o=n[t].spec.toDOM;r?e[t]=r:o&&(e[t]=o)}return e}var go,bo=(T(vo,go=Lr),vo.fromSchema=function(n){return new vo(n)},vo.prototype.nodeFromString=function(n){var t;try{t=window.document.createRange().createContextualFragment(n)}catch(e){t=(new DOMParser).parseFromString(n,"text/html")}return this.parser.parse(t)},vo.prototype.stringFromNode=function(n){var e=document.createElement("div");return e.appendChild(this.serializer.serializeFragment(n.content)),e.innerHTML},vo);function vo(n){var e=go.call(this)||this;return e.schema=n,e.parser=w.DOMParser.fromSchema(n),e.serializer=fo.fromSchema(n),e}var wo=new c.PluginKey("common"),ko=new c.Plugin({key:wo,state:{init:function(){return{editorFocused:!1}},apply:function(n,e){return!1===n.getMeta("editor_focused")?{editorFocused:!1}:n.getMeta("editor_focused")?{editorFocused:!0}:e}},props:{handleScrollToSelection:function(){return!0},handleDOMEvents:{focus:function(n){var e=n.state;return(0,n.dispatch)(e.tr.setMeta("editor_focused",!0)),!1},blur:function(n){var e=n.state;return(0,n.dispatch)(e.tr.setMeta("editor_focused",!1)),!1}}}});function yo(n,e){var t=function(n,e){var t=n.selection,r=t.$from,o=t.$to;return r.blockRange(o,(function(n){return n.type==e}))}(n,n.schema.nodes.blockquote);if(!t)return!1;var r=M.liftTarget(t);return!!r&&(e&&e(n.tr.lift(t,r)),!0)}function xo(n,e){var t=n.schema.nodes.horizontal_rule;return e&&e(n.tr.replaceSelectionWith(t.create()).scrollIntoView()),!0}function Co(n){var e=n.nodes.hard_break;return l.chainCommands(l.exitCode,(function(n,t){return t(n.tr.replaceSelectionWith(e.create()).scrollIntoView()),!0}))}function Mo(n){return function(e){return kn(e.nodes.heading,{level:n},e.nodes.paragraph,null)}}var _o=[{__type:"wysiwyg:keymap",name:"Mod-z",command:function(){return d.undo}},{__type:"wysiwyg:keymap",name:"Backspace",command:function(){return C.undoInputRule}},{__type:"wysiwyg:keymap",name:"Mod-Shift-z",command:function(){return d.redo}},{__type:"wysiwyg:keymap",name:"Mod-y",command:function(){return d.redo},unlessMac:!0},{__type:"wysiwyg:keymap",name:"Tab",command:function(){return zo}},{__type:"wysiwyg:keymap",name:"Shift-Tab",command:function(){return Io}},{__type:"wysiwyg:keymap",name:"Mod-b",ifMark:"strong",command:function(n){return l.toggleMark(n.marks.strong)}},{__type:"wysiwyg:keymap",name:"Mod-i",ifMark:"em",command:function(n){return l.toggleMark(n.marks.em)}},{__type:"wysiwyg:keymap",name:"Mod-k",ifMark:"link",command:function(){return function(n,e){return qt(n,e)}}},{__type:"wysiwyg:keymap",name:"Mod-Enter",command:Co,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Shift-Enter",command:Co,ifNode:"hard_break"},{__type:"wysiwyg:keymap",name:"Ctrl-Enter",command:Co,ifNode:"hard_break",ifMac:!0},{__type:"wysiwyg:keymap",name:"Mod-Alt-1",command:Mo(1),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-2",command:Mo(2),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-3",command:Mo(3),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-4",command:Mo(4),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-5",command:Mo(5),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-6",command:Mo(6),ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Backspace",command:function(){return wn},ifNode:"heading"},{__type:"wysiwyg:keymap",name:"Mod-Alt-7",command:function(){return we},ifNode:"ordered_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-8",command:function(){return ve},ifNode:"bullet_list"},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",command:function(n){return u.liftListItem(n.nodes.list_item)},onCondition:function(n){return!(!n.nodes.bullet_list&&!n.nodes.ordered_list)}},{__type:"wysiwyg:keymap",name:"Mod-Alt-0",command:function(n){return l.setBlockType(n.nodes.code_block)},ifNode:"code_block"},{__type:"wysiwyg:keymap",name:"ArrowLeft",command:function(){return Eo("left")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowRight",command:function(){return Eo("right")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowUp",command:function(){return Eo("up")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"ArrowDown",command:function(){return Eo("down")},ifNodes:["code_block","table"]},{__type:"wysiwyg:keymap",name:"Mod-0",ifMark:"code",command:function(n){return l.toggleMark(n.marks.code)}},{__type:"wysiwyg:keymap",name:"Mod->",ifNode:"blockquote",command:function(n){return l.wrapIn(n.nodes.blockquote)}},{__type:"wysiwyg:keymap",name:"Mod-<",ifNode:"blockquote",command:function(){return yo}},{__type:"wysiwyg:keymap",name:"Mod-Alt-9",ifNode:"paragraph",command:function(n){return l.setBlockType(n.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Shift-Ctrl-0",ifNode:"paragraph",command:function(n){return l.setBlockType(n.nodes.paragraph)}},{__type:"wysiwyg:keymap",name:"Mod-Enter",ifNode:"horizontal_rule",command:function(){return xo}},{__type:"wysiwyg:keymap",name:"Enter",ifNode:"list_item",command:function(n){return u.splitListItem(n.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Tab",ifNode:"list_item",command:function(n){return u.sinkListItem(n.nodes.list_item)}},{__type:"wysiwyg:keymap",name:"Shift-Tab",ifNode:"list_item",command:function(n){return u.liftListItem(n.nodes.list_item)}}];function Eo(n){return function(e,t,r){if(r.endOfTextblock(n)){var o="left"==n||"up"==n?-1:1,i=e.selection.$head,a=c.Selection.near(e.doc.resolve(0<o?i.after():i.before()),o);if(a.$head){var l=a.$head.parent.type.name;if("code_block"==l||"table_header"===l||"table_cell"===l)return t(e.tr.setSelection(a)),!0}}return!1}}var zo=So(1),Io=So(-1);function So(n){return function(e,t){var r=e.schema.nodes.table;return!!p.findParentNodeOfType(r)(e.selection)&&(m.goToNextCell(1*n)(e,t),!0)}}var No="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function To(n){return new RegExp("(^|[^"+n+"])"+n+"([^\r\n\t\f"+n+" ](.*[^\r\n\t\f"+n+" ])?)"+n)}var Ao=function(n){return new RegExp(""+n+n+"([^\r\n\t\f"+n+"} ](.*[^\r\n\t\f"+n+" ])?)"+n+n)},Po=Ao("\\*"),Lo=To("\\*"),Oo=Ao("~"),Do=To("_"),Fo=To("`");function Wo(n){var e,t,r=[];return(e=n.nodes.blockquote)&&r.push(function(n){return C.wrappingInputRule(/^\s*>\s$/,n)}(e)),(e=n.nodes.ordered_list)&&r.push(function(n){return C.wrappingInputRule(/^(\d+)\.\s$/,n,(function(n){return{order:+n[1]}}),(function(n,e){return e.childCount+e.attrs.order==+n[1]}))}(e)),(e=n.nodes.bullet_list)&&r.push(function(n){return C.wrappingInputRule(/^\s*([-+*])\s$/,n)}(e)),(e=n.nodes.code_block)&&r.push(function(n){return C.textblockTypeInputRule(/^```([a-zA-Z]*)? $/,n,(function(n){var e=n[1];return e?{params:e}:{}}))}(e)),(e=n.nodes.heading)&&r.push(function(n,e){return C.textblockTypeInputRule(new RegExp("^(#{1,6})\\s$"),n,(function(n){return{level:n[1].length}}))}(e)),(e=n.nodes.horizontal_rule)&&r.push(function(n){return new C.InputRule(/^(---|___|\*\*\*)$/,(function(e,t,r,o){return e.tr.replaceRangeWith(r,o,n.create())}))}(e)),(t=n.marks.strong)&&(r.push(function(n){return Ro(Po,n,{})}(t)),r.push(function(n){return Ro(Ao("_"),n,{})}(t))),(t=n.marks.strike)&&r.push(function(n){return Ro(Oo,n,{})}(t)),(t=n.marks.em)&&(r.push(function(n){return Bo(Lo,n,{})}(t)),r.push(function(n){return Bo(Do,n,{})}(t))),(t=n.marks.code)&&r.push(function(n){return Bo(Fo,n,{})}(t)),r}function Ro(n,e,t){return new C.InputRule(n,(function(n,r,o,i){var a=t instanceof Function?t(r):t,l=n.tr;if(r[1]){var s=o+r[0].indexOf(r[1]),c=s+r[1].length;c<i&&l.delete(c,i),o<s&&l.delete(o,s),i=o+r[1].length}return l.addMark(o,i,e.create(a)),l.removeStoredMark(e),l}))}function Bo(n,e,t){var r=function(n,e){return function(t,r,o,i,a){var l=e instanceof Function?e(o):e,s=t.tr,c=o[1].length;if(o[2]){var d=i+1+c,u=d+o[2].length,p=[d-1,d],f=[u,u+(function(n,e){try{return n.doc.textBetween(e+1,e+2)}catch(n){return""}}(t,u)?0:1)];s.delete.apply(s,f),s.delete.apply(s,p),a=i+o[2].length+c}return s.addMark(i+c,a,n.create(l)),s.removeStoredMark(n),r&&r(s),s}}(e,t);return new C.InputRule(n,(function(n,e,t,o){return r(n,null,e,t,o)}))}function $o(n,e,t,r){var o=[ko,me,function(n){return C.inputRules({rules:Wo(n)})}(n),x.keymap(function(n){var e=A({},l.baseKeymap);function t(n,t){e[n]&&(t=l.chainCommands(t,e[n])),e[n]=t}return t("Enter",l.chainCommands(l.createParagraphNear,l.liftEmptyBlock,l.splitBlock)),function(n,e){return e.filter((function(n){return"wysiwyg:keymap"===n.__type}))}(0,_o).forEach((function(e){var r=!1;e.unlessMac&&No&&(r=!0),e.ifMark&&!n.marks[e.ifMark]&&(r=!0),e.ifNode&&!n.nodes[e.ifNode]&&(r=!0),e.ifNodes&&!e.ifNodes.some((function(e){return n.nodes[e]}))&&(r=!0),e.onCondition&&!e.onCondition(n)&&(r=!0),r||t(e.name,e.command(n))})),e}(n)),d.history(),function(){var n;return new c.Plugin({key:Bt,state:{init:function(){return{showLinkForm:!1}},apply:function(n,e,t){return!1===n.getMeta("show_link_toolbar")?{show_link_toolbar:!1}:n.getMeta("show_link_toolbar")?{show_link_toolbar:!0}:e}},props:{transformPasted:function(e){return n?e:new w.Slice(function n(e){var t=[];return e.forEach((function(e){if(e.isText){for(var r=e.text,o=0,i=void 0,a=e.type.schema.marks.link,l=e.type.schema.nodes.image,s=[];i=Rt.exec(r);){var c=i.index,d=c+i[0].length;s.push({start:c,end:d})}s.forEach((function(n){var i,s=n.start,c=n.end;0<s&&t.push(e.cut(o,s));var d=r.slice(s,c);Wt.test(d)?(i={src:d,title:"",alt:""},t.push(l.create(i))):(i={href:d,title:d},t.push(e.cut(s,c).mark(a.create(i).addToSet(e.marks)))),o=c})),o<r.length&&t.push(e.cut(o))}else t.push(e.copy(n(e.content)))})),w.Fragment.fromArray(t)}(e.content),e.openStart,e.openEnd)},handleKeyDown:function(e,t){return n=t.shiftKey,!1},handleClickOn:function(n,e){(0,n.dispatch)(n.state.tr.setMeta("show_link_toolbar",!1))}}})}(),k.dropCursor({width:2,color:"rgb(0, 132, 255)"}),y.gapCursor(),m.tableEditing(),Ne,se];return r&&o.push(function(n){var e=n.previewSrc,t=n.upload;return new c.Plugin({key:ft,state:{init:function(){return{selectedImage:void 0}},apply:function(n,e,t,r){if(0<n.getMeta("loading_images")){for(var o=n.getMeta("loading_images"),i=document.createElement("div"),a=0;a<o;a++){var l=document.createElement("div");l.classList.add("image_loading_indicator"),i.appendChild(l)}return A(A({},e),{deco:f.DecorationSet.create(r.doc,[f.Decoration.widget(r.selection.$to.pos,i)])})}if(0===n.getMeta("loading_images"))return A(A({},e),{deco:void 0});if(e&&e.selectedImage){var s=e.selectedImage.pos;if(!n.doc.nodeAt(s))return A(A({},e),{selectedImage:void 0})}var c=n.getMeta("image_clicked");return c?A(A({},e),{selectedImage:c}):!1===c?A(A({},e),{selectedImage:void 0}):e}},props:{nodeViews:{image:function(n,t){return new Le(n,t,e)}},decorations:function(n){return this.getState(n).deco},handleKeyDown:function(n,e){var t=n.state,r=n.dispatch,o=t.selection,i=t.schema;if("Escape"===e.key)r(t.tr.setMeta("image_clicked",!1));else{if("Backspace"===e.key&&o.$to.nodeBefore&&o.$to.nodeBefore.type===i.nodes.image)return De(t,r,o.$to.pos-1),!0;if("Delete"===e.key&&o.$to.nodeAfter&&o.$to.nodeAfter.type===i.nodes.image)return De(t,r,o.$to.pos),!0}return!1},handleClickOn:function(n,e,t,r,o,i){if(!i)return!1;var a=n.state,l=n.dispatch,s=n.state.schema.nodes.image;return t.type===s?l(a.tr.setMeta("image_clicked",{pos:r,node:t})):l(a.tr.setMeta("image_clicked",!1)),!1},handleDrop:function(n,e,r,o){if(o||!t)return!1;e.preventDefault();var i=e.dataTransfer;return!!i&&Fe(n,i,t)},handlePaste:function(n,e){if(!t)return!1;e.preventDefault();var r=e.clipboardData;return!!r&&Fe(n,r,t)}}})}(r)),c.EditorState.create({schema:n,doc:e.nodeFromString(t),plugins:o})}function qo(n,e,t,r,o){var i=new w.Schema({nodes:Dr,marks:Or}),a=function(n,e){return void 0===e&&(e="markdown"),"html"===e?bo.fromSchema(n):co.fromSchema(n)}(i,o);if(!e)return{};var l=new f.EditorView(e,{state:$o(i,a,n.value,r),dispatchTransaction:function(e){var r=l.state.apply(e);l.updateState(r),t({view:l}),e.docChanged&&!e.getMeta("input-update")&&n.onChange(a.stringFromNode(e.doc))}}),s=l.state,d=l.dispatch,u=s.tr,p=s.doc;return d(u.setSelection(new c.TextSelection(p.resolve(p.content.size)||0))),l.focus(),t({view:l}),{translator:a}}function Ho(n,e){var t=n.state,r=n.dispatch,o=t.selection,i=t.schema.nodes,a=i.table,l=i.table_cell,s=i.table_header,c=p.findParentNodeOfType(l)(t.selection),d=p.findParentNodeOfType(s)(t.selection),u=c||d;if(u){var f=u.node.attrs.align===e?void 0:e,h=p.findParentNodeOfType(a)(t.selection);if(h){var g=m.TableMap.get(h.node),b=Object.entries(g.map).find((function(n){return n[1]>o.head-h.start}));if(b){var v=(parseInt(b[0])-1)%g.width;r(p.forEachCellInColumn(v,(function(n,e){return p.setCellAttrs(n,{align:f})(e)}))(t.tr)),n.focus()}}}}function jo(){var n=j().editorView;if(!n)return null;var e=n.view,t=e.state,o=e.dispatch;if(document.getElementsByClassName("tina_table_header_ext_top_left_selected")[0])return null;for(var a,l=document.getElementsByClassName("tina_table_header_ext_top_selected")[0],c=document.getElementsByClassName("tina_table_header_ext_left"),d=1;d<c.length;d++)c[d].classList.contains("tina_table_header_ext_left_selected")&&(a=c[d]);if(!l&&!a)return null;var u=n.view;return r.createElement(r.Fragment,null,l&&s.createPortal(r.createElement(hi,null,r.createElement(h.IconButton,{onClick:function(){return Ho(u,"left")},small:!0,primary:!0},r.createElement(i.AlignLeft,null)),r.createElement(h.IconButton,{onClick:function(){return Ho(u,"center")},small:!0,primary:!0},r.createElement(i.AlignCenter,null)),r.createElement(h.IconButton,{onClick:function(){return Ho(u,"right")},small:!0,primary:!0},r.createElement(i.AlignRight,null)),r.createElement(h.IconButton,{onClick:function(){m.deleteColumn(t,o),u.focus()},small:!0,primary:!0},r.createElement(i.TrashIcon,null))),l),a&&s.createPortal(r.createElement(gi,null,r.createElement(h.IconButton,{onClick:function(){m.deleteRow(t,o),u.focus()},small:!0,primary:!0},r.createElement(i.TrashIcon,null))),a))}function Uo(n){var e=n.index,t=n.marker,o=n.tableHeight,a=n.view,l=a.state,c=a.dispatch,d=r.useState(!1),u=d[0],f=d[1];return r.useEffect((function(){t.style.zIndex=u?"1000":"1"}),[u]),s.createPortal(z.createElement(z.Fragment,null,z.createElement(bi,{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)}},u?z.createElement(wi,null,z.createElement(h.IconButton,{onClick:function(){!function(n){c(p.addColumnAt(n)(l.tr)),a.focus()}(e),f(!1)},small:!0,primary:!0},z.createElement(i.AddIcon,null))):z.createElement(vi,null)),u&&z.createElement(ki,{height:o})),t)}function Vo(n){var e=n.index,t=n.marker,o=n.tableWidth,a=n.view,l=a.state,c=a.dispatch,d=r.useState(!1),u=d[0],f=d[1];return r.useEffect((function(){t.style.zIndex=u?"1000":"1"}),[u]),s.createPortal(z.createElement(z.Fragment,null,z.createElement(yi,{onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)}},u&&0<e?z.createElement(Ci,null,z.createElement(h.IconButton,{onClick:function(){return function(n){if(1<n)c(p.addRowAt(n,!0)(l.tr));else{var e=l.schema.nodes,t=e.table,r=e.table_cell,o=e.table_row,i=p.findParentNodeOfType(t)(l.selection);if(!i)return;var s=m.TableMap.get(i.node),d=i.start+s.map[s.width]-1,u=p.getCellsInRow(0)(l.selection);if(!u)return;var f=null==u?void 0:u.map((function(n){return r.createAndFill(A({},n.node.attrs))}));c(l.tr.insert(d,o.create(null,f)))}a.focus()}(e)},small:!0,primary:!0},z.createElement(i.AddIcon,null))):z.createElement(xi,null)),u&&z.createElement(Mi,{width:o})),t)}function Ko(){var n=j().editorView;if(!n)return null;var e=document.getElementsByClassName("tina_table_header_ext_top_left");if(!e.length)return null;var t=e[0].closest("table");if(!t)return null;for(var r=t.getBoundingClientRect(),o=r.height,i=r.width,a=document.getElementsByClassName("tina_table_header_ext_top"),l=[e[0]],s=0;s<a.length;s++)l.push(a[s]);var c=document.getElementsByClassName("tina_table_header_ext_left"),d=[e[0]];for(s=0;s<c.length;s++)d.push(c[s]);var u=n.view;return z.createElement(z.Fragment,null,l.map((function(n,e){return z.createElement(Uo,{key:"add-column-menu-"+e,index:e,marker:n,tableHeight:o,view:u})})),d.map((function(n,e){return z.createElement(Vo,{key:"add-row-menu-"+e,index:e,marker:n,tableWidth:i,view:u})})))}function Go(){var n=j().editorView;if(!n)return null;var e=n.view,t=document.getElementsByClassName("tina_table_header_ext_top_left_selected");if(!t.length)return null;var r=t[0].closest("table");if(!r)return null;var o=r.getBoundingClientRect(),a=o.height,l=o.width;return S.createPortal(z.createElement(_i,{height:a,width:l},z.createElement(h.IconButton,{onClick:function(){var n=e.state,t=e.dispatch;m.deleteTable(n,t),e.focus()},small:!0,primary:!0},z.createElement(i.TrashIcon,null))),t[0])}function Xo(){return r.createElement(r.Fragment,null,r.createElement(jo,null),r.createElement(Ko,null),r.createElement(Go,null))}function Zo(n){var e=n.plugins,t=n.uploadImages,r=P(n,["plugins","uploadImages"]);return j().editorView?z.createElement(fr,A({},r,{menus:[z.createElement(xn,{key:"BlockMenu"}),z.createElement(ie,{key:"InlineMenu"}),z.createElement(Ut,{key:"LinkMenu"}),z.createElement(We,{key:"ImageMenu",uploadImages:t}),z.createElement(Ae,{key:"TableMenu"}),z.createElement(Ie,{key:"QuoteMenu"}),z.createElement(Zn,{key:"CodeBlockMenu"}),z.createElement(ke,{key:"ListMenu"}),z.createElement(re,{key:"HistoryMenu"})],popups:[z.createElement(Xo,{key:"TablePopups"}),z.createElement(Be,{key:"ImageEditPopup"}),z.createElement(Gt,{key:"LinkFormPopup"}),z.createElement($e,{key:"ImageLoader"})],plugins:e})):null}function Yo(n){var e=n.imageProps,t=n.input,o=n.plugins,i=void 0===o?[]:o,a=n.format,l=void 0===a?"markdown":a,s=n.sticky,c=n.className,d=t.value,u=t.onChange,p="markdown"===l?D(i,[Ni]):i;return r.createElement(B,null,r.createElement(nn,null,(function(n){var t=n.mode;return r.createElement(W,null,r.createElement(Ti,null,"markdown"===t?r.createElement(hr,{value:d,onChange:u,imageProps:e,plugins:p,sticky:s}):r.createElement(Ii,{input:{value:d,onChange:u},plugins:p,sticky:s,format:l,imageProps:e,className:c})))})))}var Jo,Qo,ni,ei,ti,ri,oi,ii,ai,li,si,ci,di,ui,pi,fi,mi,hi=I.span.withConfig({displayName:"IconWrapperCol",componentId:"sc-46o58w"})(Jo=Jo||F(["\n  display: flex;\n  left: 50%;\n  position: absolute;\n  top: -8px;\n  transform: translate3d(-50%, -100%, 0);\n  button:not(:first-of-type) {\n    margin-left: 10px;\n  }\n"],["\n  display: flex;\n  left: 50%;\n  position: absolute;\n  top: -8px;\n  transform: translate3d(-50%, -100%, 0);\n  button:not(:first-of-type) {\n    margin-left: 10px;\n  }\n"])),gi=I.span.withConfig({displayName:"IconWrapperRow",componentId:"sc-1hzqmnb"})(Qo=Qo||F(["\n  position: absolute;\n  top: 50%;\n  left: -8px;\n  transform: translate3d(-100%, -50%, 0);\n"],["\n  position: absolute;\n  top: 50%;\n  left: -8px;\n  transform: translate3d(-100%, -50%, 0);\n"])),bi=I.div.withConfig({displayName:"Wrapper",componentId:"sc-1udvvvi"})(ni=ni||F(["\n  top: -7px;\n  position: absolute;\n  right: 0;\n  padding: 8px;\n  transform: translate3d(50%, -100%, 0);\n  user-select: none;\n"],["\n  top: -7px;\n  position: absolute;\n  right: 0;\n  padding: 8px;\n  transform: translate3d(50%, -100%, 0);\n  user-select: none;\n"])),vi=I.div.withConfig({displayName:"Pointer",componentId:"sc-itc01v"})(ei=ei||F(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"],["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"])),wi=I.span.withConfig({displayName:"IconWrapperCol",componentId:"sc-1i04qs1"})(ti=ti||F(["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n"],["\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n"])),ki=I.div.withConfig({displayName:"ColumnDivider",componentId:"sc-m8lzh6"})(ri=ri||F(["\n  position: absolute;\n  background: #0574e4;\n  top: ","px;\n  z-index: 1000;\n  right: ","px;\n  width: ","px;\n  height: ",";\n"],["\n  position: absolute;\n  background: #0574e4;\n  top: ","px;\n  z-index: 1000;\n  right: ","px;\n  width: ","px;\n  height: ",";\n"]),-1,-1,2,(function(n){return n.height+12-1+"px"})),yi=I.div.withConfig({displayName:"Wrapper",componentId:"sc-ukbkh4"})(oi=oi||F(["\n  left: -7px;\n  position: absolute;\n  bottom: 0;\n  padding: 8px;\n  transform: translate3d(-100%, 50%, 0);\n  user-select: none;\n"],["\n  left: -7px;\n  position: absolute;\n  bottom: 0;\n  padding: 8px;\n  transform: translate3d(-100%, 50%, 0);\n  user-select: none;\n"])),xi=I.div.withConfig({displayName:"Pointer",componentId:"sc-scz6k4"})(ii=ii||F(["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"],["\n  background: #e1ddec;\n  border-radius: 50%;\n  height: 4px;\n  width: 4px;\n"])),Ci=I.span.withConfig({displayName:"IconWrapperRow",componentId:"sc-svz44v"})(ai=ai||F(["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate3d(-50%, -50%, 0);\n"],["\n  position: absolute;\n  top: 50%;\n  left: 0;\n  transform: translate3d(-50%, -50%, 0);\n"])),Mi=I.div.withConfig({displayName:"ColumnDivider",componentId:"sc-wyoz86"})(li=li||F(["\n  position: absolute;\n  background: #0574e4;\n  left: ","px;\n  z-index: var(--tina-z-index-1);\n  bottom: ","px;\n  height: ","px;\n  width: ",";\n"],["\n  position: absolute;\n  background: #0574e4;\n  left: ","px;\n  z-index: var(--tina-z-index-1);\n  bottom: ","px;\n  height: ","px;\n  width: ",";\n"]),-1,-1,2,(function(n){return n.width+12-1+"px"})),_i=I.div.withConfig({displayName:"Wrapper",componentId:"sc-1wh7kvu"})(si=si||F(["\n  background-color: #ffffff;\n  border-radius: 2px;\n  cursor: default;\n  padding: 0px 4px;\n  position: absolute;\n  top: ",";\n  left: ",";\n"],["\n  background-color: #ffffff;\n  border-radius: 2px;\n  cursor: default;\n  padding: 0px 4px;\n  position: absolute;\n  top: ",";\n  left: ",";\n"]),(function(n){return n.height+24+"px"}),(function(n){return n.width/2-8+"px"})),Ei=o.css(ci=ci||F(["\n  white-space: pre-wrap;\n\n  .CodeMirror {\n    font-family: monospace;\n    height: auto;\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 16px;\n    color: black;\n    direction: ltr;\n  }\n\n  .CodeMirror-lines {\n    padding: 4px 0; /* Vertical padding around content */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    padding: 0 4px; /* Horizontal padding of content */\n  }\n\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    background-color: white; /* The little square between H and V scrollbars */\n  }\n\n  /* GUTTER */\n\n  .CodeMirror-gutters {\n    border-right: 1px solid #ddd;\n    background-color: #f7f7f7;\n    white-space: nowrap;\n  }\n  .CodeMirror-linenumbers {\n  }\n  .CodeMirror-linenumber {\n    padding: 0 3px 0 5px;\n    min-width: 20px;\n    text-align: right;\n    color: #999;\n    white-space: nowrap;\n  }\n\n  .CodeMirror-guttermarker {\n    color: black;\n  }\n  .CodeMirror-guttermarker-subtle {\n    color: #999;\n  }\n\n  /* CURSOR */\n\n  .CodeMirror-cursor {\n    border-left: 1px solid black;\n    border-right: none;\n    width: 0;\n  }\n  /* Shown when moving in bi-directional text */\n  .CodeMirror div.CodeMirror-secondarycursor {\n    border-left: 1px solid silver;\n  }\n  .cm-fat-cursor .CodeMirror-cursor {\n    width: auto;\n    border: 0 !important;\n    background: #7e7;\n  }\n  .cm-fat-cursor div.CodeMirror-cursors {\n    z-index: 1;\n  }\n  .cm-fat-cursor-mark {\n    background-color: rgba(20, 255, 20, 0.5);\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n  }\n  .cm-animate-fat-cursor {\n    width: auto;\n    border: 0;\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n    background-color: #7e7;\n  }\n  @-moz-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @-webkit-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n\n  /* Can style cursor different in overwrite (non-insert) mode */\n  .CodeMirror-overwrite .CodeMirror-cursor {\n  }\n\n  .cm-tab {\n    display: inline-block;\n    text-decoration: inherit;\n  }\n\n  .CodeMirror-rulers {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: -50px;\n    bottom: 0;\n    overflow: hidden;\n  }\n  .CodeMirror-ruler {\n    border-left: 1px solid #ccc;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  /* DEFAULT THEME */\n\n  .cm-s-default .cm-header {\n    color: blue;\n  }\n  .cm-s-default .cm-quote {\n    color: #090;\n  }\n  .cm-negative {\n    color: #d44;\n  }\n  .cm-positive {\n    color: #292;\n  }\n  .cm-header,\n  .cm-strong {\n    font-weight: bold;\n  }\n  .cm-em {\n    font-style: italic;\n  }\n  .cm-link {\n    text-decoration: underline;\n  }\n  .cm-strikethrough {\n    text-decoration: line-through;\n  }\n\n  .cm-s-default .cm-keyword {\n    color: #708;\n  }\n  .cm-s-default .cm-atom {\n    color: #219;\n  }\n  .cm-s-default .cm-number {\n    color: #164;\n  }\n  .cm-s-default .cm-def {\n    color: #00f;\n  }\n  .cm-s-default .cm-variable,\n  .cm-s-default .cm-punctuation,\n  .cm-s-default .cm-property,\n  .cm-s-default .cm-operator {\n  }\n  .cm-s-default .cm-variable-2 {\n    color: #05a;\n  }\n  .cm-s-default .cm-variable-3,\n  .cm-s-default .cm-type {\n    color: #085;\n  }\n  .cm-s-default .cm-comment {\n    color: #a50;\n  }\n  .cm-s-default .cm-string {\n    color: #a11;\n  }\n  .cm-s-default .cm-string-2 {\n    color: #f50;\n  }\n  .cm-s-default .cm-meta {\n    color: #555;\n  }\n  .cm-s-default .cm-qualifier {\n    color: #555;\n  }\n  .cm-s-default .cm-builtin {\n    color: #30a;\n  }\n  .cm-s-default .cm-bracket {\n    color: #997;\n  }\n  .cm-s-default .cm-tag {\n    color: #170;\n  }\n  .cm-s-default .cm-attribute {\n    color: #00c;\n  }\n  .cm-s-default .cm-hr {\n    color: #999;\n  }\n  .cm-s-default .cm-link {\n    color: #00c;\n  }\n\n  .cm-s-default .cm-error {\n    color: #f00;\n  }\n  .cm-invalidchar {\n    color: #f00;\n  }\n\n  .CodeMirror-composing {\n    border-bottom: 2px solid;\n  }\n\n  /* Default styles for common addons */\n\n  div.CodeMirror span.CodeMirror-matchingbracket {\n    color: #0b0;\n  }\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\n    color: #a22;\n  }\n  .CodeMirror-matchingtag {\n    background: rgba(255, 150, 0, 0.3);\n  }\n  .CodeMirror-activeline-background {\n    background: #e8f2ff;\n  }\n\n  /* STOP */\n\n  /* The rest of this file contains styles related to the mechanics of\n    the editor. You probably shouldn't touch them. */\n\n  .CodeMirror {\n    position: relative;\n    overflow: hidden;\n    background: white;\n  }\n\n  .CodeMirror-scroll {\n    overflow: scroll !important; /* Things will break if this is overridden */\n    /* 30px is the magic margin used to hide the element's real scrollbars */\n    /* See overflow: hidden in .CodeMirror */\n    margin-bottom: -30px;\n    margin-right: -30px;\n    padding-bottom: 30px;\n    height: 100%;\n    outline: none; /* Prevent dragging from highlighting the element */\n    position: relative;\n  }\n  .CodeMirror-sizer {\n    position: relative;\n    min-height: auto;\n    border-right: 30px solid transparent;\n  }\n\n  /* The fake, visible scrollbars. Used to force redraw during scrolling\n    before actual scrolling happens, thus preventing shaking and\n    flickering artifacts. */\n  .CodeMirror-vscrollbar,\n  .CodeMirror-hscrollbar,\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    position: absolute;\n    z-index: 6;\n    display: none;\n  }\n  .CodeMirror-vscrollbar {\n    right: 0;\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n  .CodeMirror-hscrollbar {\n    bottom: 0;\n    left: 0;\n    overflow-y: hidden;\n    overflow-x: scroll;\n  }\n  .CodeMirror-scrollbar-filler {\n    right: 0;\n    bottom: 0;\n  }\n  .CodeMirror-gutter-filler {\n    left: 0;\n    bottom: 0;\n  }\n\n  .CodeMirror-gutters {\n    position: absolute;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    z-index: 3;\n  }\n  .CodeMirror-gutter {\n    white-space: normal;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: -30px;\n  }\n  .CodeMirror-gutter-wrapper {\n    position: absolute;\n    z-index: 4;\n    background: none !important;\n    border: none !important;\n  }\n  .CodeMirror-gutter-background {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-elt {\n    position: absolute;\n    cursor: default;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-wrapper ::selection {\n    background-color: transparent;\n  }\n  .CodeMirror-gutter-wrapper ::-moz-selection {\n    background-color: transparent;\n  }\n\n  .CodeMirror-lines {\n    cursor: text;\n    min-height: 1px; /* prevents collapsing before first draw */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    /* Reset some styles that the rest of the page might have set */\n    -moz-border-radius: 0;\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    border-width: 0;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    margin: 0;\n    white-space: pre;\n    word-wrap: normal;\n    line-height: inherit;\n    color: inherit;\n    z-index: 2;\n    position: relative;\n    overflow: visible;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-font-variant-ligatures: contextual;\n    font-variant-ligatures: contextual;\n  }\n  .CodeMirror-wrap pre.CodeMirror-line,\n  .CodeMirror-wrap pre.CodeMirror-line-like {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: normal;\n  }\n\n  .CodeMirror-linebackground {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 0;\n  }\n\n  .CodeMirror-linewidget {\n    position: relative;\n    z-index: 2;\n    padding: 0.1px; /* Force widget margins to stay inside of the container */\n  }\n\n  .CodeMirror-widget {\n  }\n\n  .CodeMirror-rtl pre {\n    direction: rtl;\n  }\n\n  .CodeMirror-code {\n    outline: none;\n  }\n\n  /* Force content-box sizing for the elements where we expect it */\n  .CodeMirror-scroll,\n  .CodeMirror-sizer,\n  .CodeMirror-gutter,\n  .CodeMirror-gutters,\n  .CodeMirror-linenumber {\n    -moz-box-sizing: content-box;\n    box-sizing: content-box;\n  }\n\n  .CodeMirror-measure {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n\n  .CodeMirror-cursor {\n    position: absolute;\n    pointer-events: none;\n  }\n  .CodeMirror-measure pre {\n    position: static;\n  }\n\n  div.CodeMirror-cursors {\n    visibility: hidden;\n    position: relative;\n    z-index: 3;\n  }\n  div.CodeMirror-dragcursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-focused div.CodeMirror-cursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-selected {\n    background: #d9d9d9;\n  }\n  .CodeMirror-focused .CodeMirror-selected {\n    background: #d7d4f0;\n  }\n  .CodeMirror-crosshair {\n    cursor: crosshair;\n  }\n  .CodeMirror-line::selection,\n  .CodeMirror-line > span::selection,\n  .CodeMirror-line > span > span::selection {\n    background: #d7d4f0;\n  }\n  .CodeMirror-line::-moz-selection,\n  .CodeMirror-line > span::-moz-selection,\n  .CodeMirror-line > span > span::-moz-selection {\n    background: #d7d4f0;\n  }\n\n  .cm-searching {\n    background-color: #ffa;\n    background-color: rgba(255, 255, 0, 0.4);\n  }\n\n  /* Used to force a border model for a node */\n  .cm-force-border {\n    padding-right: 0.1px;\n  }\n\n  @media print {\n    /* Hide the cursor when printing */\n    .CodeMirror div.CodeMirror-cursors {\n      visibility: hidden;\n    }\n  }\n\n  /* See issue #2901 */\n  .cm-tab-wrap-hack:after {\n    content: '';\n  }\n\n  /* Help users use markselection to safely style text background */\n  span.CodeMirror-selectedtext {\n    background: none;\n  }\n"],["\n  white-space: pre-wrap;\n\n  .CodeMirror {\n    font-family: monospace;\n    height: auto;\n    width: 100%;\n    border-radius: 5px;\n    margin-bottom: 16px;\n    color: black;\n    direction: ltr;\n  }\n\n  .CodeMirror-lines {\n    padding: 4px 0; /* Vertical padding around content */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    padding: 0 4px; /* Horizontal padding of content */\n  }\n\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    background-color: white; /* The little square between H and V scrollbars */\n  }\n\n  /* GUTTER */\n\n  .CodeMirror-gutters {\n    border-right: 1px solid #ddd;\n    background-color: #f7f7f7;\n    white-space: nowrap;\n  }\n  .CodeMirror-linenumbers {\n  }\n  .CodeMirror-linenumber {\n    padding: 0 3px 0 5px;\n    min-width: 20px;\n    text-align: right;\n    color: #999;\n    white-space: nowrap;\n  }\n\n  .CodeMirror-guttermarker {\n    color: black;\n  }\n  .CodeMirror-guttermarker-subtle {\n    color: #999;\n  }\n\n  /* CURSOR */\n\n  .CodeMirror-cursor {\n    border-left: 1px solid black;\n    border-right: none;\n    width: 0;\n  }\n  /* Shown when moving in bi-directional text */\n  .CodeMirror div.CodeMirror-secondarycursor {\n    border-left: 1px solid silver;\n  }\n  .cm-fat-cursor .CodeMirror-cursor {\n    width: auto;\n    border: 0 !important;\n    background: #7e7;\n  }\n  .cm-fat-cursor div.CodeMirror-cursors {\n    z-index: 1;\n  }\n  .cm-fat-cursor-mark {\n    background-color: rgba(20, 255, 20, 0.5);\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n  }\n  .cm-animate-fat-cursor {\n    width: auto;\n    border: 0;\n    -webkit-animation: blink 1.06s steps(1) infinite;\n    -moz-animation: blink 1.06s steps(1) infinite;\n    animation: blink 1.06s steps(1) infinite;\n    background-color: #7e7;\n  }\n  @-moz-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @-webkit-keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n  @keyframes blink {\n    0% {\n    }\n    50% {\n      background-color: transparent;\n    }\n    100% {\n    }\n  }\n\n  /* Can style cursor different in overwrite (non-insert) mode */\n  .CodeMirror-overwrite .CodeMirror-cursor {\n  }\n\n  .cm-tab {\n    display: inline-block;\n    text-decoration: inherit;\n  }\n\n  .CodeMirror-rulers {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: -50px;\n    bottom: 0;\n    overflow: hidden;\n  }\n  .CodeMirror-ruler {\n    border-left: 1px solid #ccc;\n    top: 0;\n    bottom: 0;\n    position: absolute;\n  }\n\n  /* DEFAULT THEME */\n\n  .cm-s-default .cm-header {\n    color: blue;\n  }\n  .cm-s-default .cm-quote {\n    color: #090;\n  }\n  .cm-negative {\n    color: #d44;\n  }\n  .cm-positive {\n    color: #292;\n  }\n  .cm-header,\n  .cm-strong {\n    font-weight: bold;\n  }\n  .cm-em {\n    font-style: italic;\n  }\n  .cm-link {\n    text-decoration: underline;\n  }\n  .cm-strikethrough {\n    text-decoration: line-through;\n  }\n\n  .cm-s-default .cm-keyword {\n    color: #708;\n  }\n  .cm-s-default .cm-atom {\n    color: #219;\n  }\n  .cm-s-default .cm-number {\n    color: #164;\n  }\n  .cm-s-default .cm-def {\n    color: #00f;\n  }\n  .cm-s-default .cm-variable,\n  .cm-s-default .cm-punctuation,\n  .cm-s-default .cm-property,\n  .cm-s-default .cm-operator {\n  }\n  .cm-s-default .cm-variable-2 {\n    color: #05a;\n  }\n  .cm-s-default .cm-variable-3,\n  .cm-s-default .cm-type {\n    color: #085;\n  }\n  .cm-s-default .cm-comment {\n    color: #a50;\n  }\n  .cm-s-default .cm-string {\n    color: #a11;\n  }\n  .cm-s-default .cm-string-2 {\n    color: #f50;\n  }\n  .cm-s-default .cm-meta {\n    color: #555;\n  }\n  .cm-s-default .cm-qualifier {\n    color: #555;\n  }\n  .cm-s-default .cm-builtin {\n    color: #30a;\n  }\n  .cm-s-default .cm-bracket {\n    color: #997;\n  }\n  .cm-s-default .cm-tag {\n    color: #170;\n  }\n  .cm-s-default .cm-attribute {\n    color: #00c;\n  }\n  .cm-s-default .cm-hr {\n    color: #999;\n  }\n  .cm-s-default .cm-link {\n    color: #00c;\n  }\n\n  .cm-s-default .cm-error {\n    color: #f00;\n  }\n  .cm-invalidchar {\n    color: #f00;\n  }\n\n  .CodeMirror-composing {\n    border-bottom: 2px solid;\n  }\n\n  /* Default styles for common addons */\n\n  div.CodeMirror span.CodeMirror-matchingbracket {\n    color: #0b0;\n  }\n  div.CodeMirror span.CodeMirror-nonmatchingbracket {\n    color: #a22;\n  }\n  .CodeMirror-matchingtag {\n    background: rgba(255, 150, 0, 0.3);\n  }\n  .CodeMirror-activeline-background {\n    background: #e8f2ff;\n  }\n\n  /* STOP */\n\n  /* The rest of this file contains styles related to the mechanics of\n    the editor. You probably shouldn't touch them. */\n\n  .CodeMirror {\n    position: relative;\n    overflow: hidden;\n    background: white;\n  }\n\n  .CodeMirror-scroll {\n    overflow: scroll !important; /* Things will break if this is overridden */\n    /* 30px is the magic margin used to hide the element's real scrollbars */\n    /* See overflow: hidden in .CodeMirror */\n    margin-bottom: -30px;\n    margin-right: -30px;\n    padding-bottom: 30px;\n    height: 100%;\n    outline: none; /* Prevent dragging from highlighting the element */\n    position: relative;\n  }\n  .CodeMirror-sizer {\n    position: relative;\n    min-height: auto;\n    border-right: 30px solid transparent;\n  }\n\n  /* The fake, visible scrollbars. Used to force redraw during scrolling\n    before actual scrolling happens, thus preventing shaking and\n    flickering artifacts. */\n  .CodeMirror-vscrollbar,\n  .CodeMirror-hscrollbar,\n  .CodeMirror-scrollbar-filler,\n  .CodeMirror-gutter-filler {\n    position: absolute;\n    z-index: 6;\n    display: none;\n  }\n  .CodeMirror-vscrollbar {\n    right: 0;\n    top: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n  .CodeMirror-hscrollbar {\n    bottom: 0;\n    left: 0;\n    overflow-y: hidden;\n    overflow-x: scroll;\n  }\n  .CodeMirror-scrollbar-filler {\n    right: 0;\n    bottom: 0;\n  }\n  .CodeMirror-gutter-filler {\n    left: 0;\n    bottom: 0;\n  }\n\n  .CodeMirror-gutters {\n    position: absolute;\n    left: 0;\n    top: 0;\n    min-height: 100%;\n    z-index: 3;\n  }\n  .CodeMirror-gutter {\n    white-space: normal;\n    height: 100%;\n    display: inline-block;\n    vertical-align: top;\n    margin-bottom: -30px;\n  }\n  .CodeMirror-gutter-wrapper {\n    position: absolute;\n    z-index: 4;\n    background: none !important;\n    border: none !important;\n  }\n  .CodeMirror-gutter-background {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-elt {\n    position: absolute;\n    cursor: default;\n    z-index: 4;\n  }\n  .CodeMirror-gutter-wrapper ::selection {\n    background-color: transparent;\n  }\n  .CodeMirror-gutter-wrapper ::-moz-selection {\n    background-color: transparent;\n  }\n\n  .CodeMirror-lines {\n    cursor: text;\n    min-height: 1px; /* prevents collapsing before first draw */\n  }\n  .CodeMirror pre.CodeMirror-line,\n  .CodeMirror pre.CodeMirror-line-like {\n    /* Reset some styles that the rest of the page might have set */\n    -moz-border-radius: 0;\n    -webkit-border-radius: 0;\n    border-radius: 0;\n    border-width: 0;\n    background: transparent;\n    font-family: inherit;\n    font-size: inherit;\n    margin: 0;\n    white-space: pre;\n    word-wrap: normal;\n    line-height: inherit;\n    color: inherit;\n    z-index: 2;\n    position: relative;\n    overflow: visible;\n    -webkit-tap-highlight-color: transparent;\n    -webkit-font-variant-ligatures: contextual;\n    font-variant-ligatures: contextual;\n  }\n  .CodeMirror-wrap pre.CodeMirror-line,\n  .CodeMirror-wrap pre.CodeMirror-line-like {\n    word-wrap: break-word;\n    white-space: pre-wrap;\n    word-break: normal;\n  }\n\n  .CodeMirror-linebackground {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    z-index: 0;\n  }\n\n  .CodeMirror-linewidget {\n    position: relative;\n    z-index: 2;\n    padding: 0.1px; /* Force widget margins to stay inside of the container */\n  }\n\n  .CodeMirror-widget {\n  }\n\n  .CodeMirror-rtl pre {\n    direction: rtl;\n  }\n\n  .CodeMirror-code {\n    outline: none;\n  }\n\n  /* Force content-box sizing for the elements where we expect it */\n  .CodeMirror-scroll,\n  .CodeMirror-sizer,\n  .CodeMirror-gutter,\n  .CodeMirror-gutters,\n  .CodeMirror-linenumber {\n    -moz-box-sizing: content-box;\n    box-sizing: content-box;\n  }\n\n  .CodeMirror-measure {\n    position: absolute;\n    width: 100%;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n  }\n\n  .CodeMirror-cursor {\n    position: absolute;\n    pointer-events: none;\n  }\n  .CodeMirror-measure pre {\n    position: static;\n  }\n\n  div.CodeMirror-cursors {\n    visibility: hidden;\n    position: relative;\n    z-index: 3;\n  }\n  div.CodeMirror-dragcursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-focused div.CodeMirror-cursors {\n    visibility: visible;\n  }\n\n  .CodeMirror-selected {\n    background: #d9d9d9;\n  }\n  .CodeMirror-focused .CodeMirror-selected {\n    background: #d7d4f0;\n  }\n  .CodeMirror-crosshair {\n    cursor: crosshair;\n  }\n  .CodeMirror-line::selection,\n  .CodeMirror-line > span::selection,\n  .CodeMirror-line > span > span::selection {\n    background: #d7d4f0;\n  }\n  .CodeMirror-line::-moz-selection,\n  .CodeMirror-line > span::-moz-selection,\n  .CodeMirror-line > span > span::-moz-selection {\n    background: #d7d4f0;\n  }\n\n  .cm-searching {\n    background-color: #ffa;\n    background-color: rgba(255, 255, 0, 0.4);\n  }\n\n  /* Used to force a border model for a node */\n  .cm-force-border {\n    padding-right: 0.1px;\n  }\n\n  @media print {\n    /* Hide the cursor when printing */\n    .CodeMirror div.CodeMirror-cursors {\n      visibility: hidden;\n    }\n  }\n\n  /* See issue #2901 */\n  .cm-tab-wrap-hack:after {\n    content: '';\n  }\n\n  /* Help users use markselection to safely style text background */\n  span.CodeMirror-selectedtext {\n    background: none;\n  }\n"])),zi=o.css(di=di||F(["\n  .ProseMirror .tinacms-image-wrapper {\n    display: inline-block;\n    margin: 1em 0;\n  }\n\n  ","\n"],["\n  .ProseMirror .tinacms-image-wrapper {\n    display: inline-block;\n    margin: 1em 0;\n  }\n\n  ","\n"]),"\n  .ProseMirror {\n    display: block\n  }\n  .ProseMirror .tableWrapper {\n    overflow-x: auto;\n  }\n  .ProseMirror .column-resize-handle {\n    position: absolute;\n    right: -2px;\n    top: 0;\n    bottom: 0;\n    width: 4px;\n    z-index: 20;\n    background-color: #adf;\n    pointer-events: none;\n  }\n  .ProseMirror.resize-cursor {\n    cursor: ew-resize;\n    cursor: col-resize;\n  }\n  /* Give selected cells a blue overlay */\n  .ProseMirror .selectedCell:after {\n    z-index: 2;\n    position: absolute;\n    content: '';\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    background: rgba(0, 132, 255, 0.25);\n    /* This provides a bullet-proof border for selected cells even with border collapsing */\n    box-shadow: 0 0 0 1px #0574E4;\n    pointer-events: none;\n  }\n  .ProseMirror:focus {\n    outline: 0px solid transparent;\n  }\n  .ProseMirror p {\n    min-height: 18px;\n  }\n  .ProseMirror table {\n    border-collapse: collapse;\n    table-layout: fixed;\n    display: inline-table;\n    margin: 32px 0 32px 0;\n    overflow: visible;\n    width: 100%;\n  }\n  .ProseMirror th {\n    background-color: #F6F6F9;\n  }\n  .ProseMirror tr {\n    height: 40px;\n  }\n  .ProseMirror table td,\n  .ProseMirror table th {\n    border: 1px solid #E1DDEC;\n    padding: 6px 8px;\n    position: relative;\n    vertical-align: top;\n    box-sizing: border-box;\n  }\n  .ProseMirror .tina_table_header_ext_top {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: calc(100% + 2px);\n    transform: translate(-9px, -18px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: calc(100% + 2px);\n    width: 12px;\n    transform: translate(-20px, -7px);\n    cursor: pointer;\n    z-index: 1;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .tina_table_header_ext_top_left {\n    background: #F6F6F9;\n    border: 1px solid #E1DDEC;\n    position: absolute;\n    height: 12px;\n    width: 12px;\n    transform: translate(-20px, -18px);\n    border-radius: 5px 0 0 0;\n    z-index: 1;\n    cursor: pointer;\n    user-select: none;\n    box-sizing: border-box;\n  }\n  .ProseMirror div.tina_table_header_ext_top_left_selected {\n    background: #0084ff;\n    border-color: #0574E4;\n    z-index: 10;\n  }\n  .ProseMirror .selectedCell {\n    border-color: transparent;\n  }\n"),Ii=I((function(n){var e=n.input,t=n.plugins,o=n.sticky,i=n.format,a=n.imageProps,l=P(n,["input","plugins","sticky","format","imageProps"]),s=r.useRef(null),d=r.useState(),u=d[0],p=d[1],f=r.useState(),m=f[0],h=f[1],g=R().browserFocused;return r.useEffect((function(){var n=qo(e,s.current,p,a,i).translator;return h(n),function(){u&&u.view.destroy()}}),[s]),r.useEffect((function(){var n=u&&u.view,t=document.getElementsByClassName("ProseMirror")[0];!n||(t===document.activeElement||t.contains(document.activeElement))&&g||function(n,e,t){var r=e.nodeFromString(t);if(r){var o=n.state,i=n.dispatch,a=o.tr;i(a.setSelection(new c.TextSelection(a.doc.resolve(0),a.doc.resolve(o.doc.nodeSize-2))).replaceSelectionWith(r).setMeta("input-update",!0))}}(n,m,e.value)}),[e.value]),r.createElement(Si,{className:"wysiwyg-wrapper","data-testid":"wysiwyg-editor"},r.createElement("link",{rel:"stylesheet",href:"https://codemirror.net/lib/codemirror.css"}),r.createElement(H,{translator:m,editorView:u},r.createElement(Zo,{sticky:o,uploadImages:a&&a.upload,plugins:t})),r.createElement("div",A({},l,{ref:s})))})).withConfig({displayName:"ProsemirrorEditor",componentId:"sc-1635a4v"})(ui=ui||F(["\n  ","","\n"],["\n  ","","\n"]),Ei,zi),Si=I.div.withConfig({displayName:"WysiwygWrapper",componentId:"sc-j63yqx"})(pi=pi||F(["\n  position: relative;\n"],["\n  position: relative;\n"])),Ni={name:"wysiwygModeToggle",MenuItem:function(){return r.createElement(q,null)}},Ti=I.div.withConfig({displayName:"Wrapper",componentId:"sc-naa1lv"})(fi=fi||F(["\n  display: block;\n  min-height: 100px;\n"],["\n  display: block;\n  min-height: 100px;\n"])),Ai="rgb(200, 200, 200)",Pi="rgb(40, 40, 40)";function Li(n){return g.wrapFieldsWithMeta(I(n)(mi=mi||F(["\n    position: relative;\n\n    > [contenteditable] {\n      ","\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      min-height: 200px;\n      max-height: 500px;\n      overflow-y: auto;\n      display: block;\n\n      ::selection {\n        background-color: rgba(0, 132, 255, 0.3);\n      }\n\n      div::selection {\n        background: rgba(0, 0, 0, 0);\n      }\n\n      div[contenteditable] {\n        display: inline-block;\n      }\n\n      > *:first-child {\n        margin-top: 0;\n      }\n\n      > *:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    color: ",";\n    background-color: #fff;\n    font-size: 16px;\n    line-height: 26px;\n    white-space: pre-wrap;\n    -webkit-font-smoothing: antialiased;\n    text-shadow: none;\n    font-weight: 400;\n    cursor: auto;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    border-radius: var(--tina-radius-small);\n\n    p {\n      font-size: 16px;\n      line-height: 26px;\n      font-weight: normal;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-weight: 600;\n      text-transform: none;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    h1 {\n      font-size: 40px;\n      line-height: 48px;\n      margin-top: 0;\n      &:not(:first-child) {\n        margin-top: 32px;\n      }\n    }\n\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:not(:first-child) {\n        margin-top: 21px;\n      }\n    }\n\n    h2 {\n      font-size: 34px;\n      line-height: 38px;\n      margin-top: 0;\n    }\n\n    h3 {\n      font-size: 26px;\n      line-height: 30px;\n      margin-top: 0;\n    }\n\n    h4 {\n      font-size: 21px;\n      line-height: 28px;\n      margin-top: 0;\n    }\n\n    h5 {\n      font-size: 18px;\n      line-height: 24px;\n      margin-top: 0;\n    }\n\n    h6 {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 0;\n    }\n\n    a {\n      color: #0084ff;\n      border: 0;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n\n    small {\n      font-size: 0.707em;\n    }\n\n    ul,\n    ol {\n      margin: 0;\n      padding: 0;\n    }\n\n    ol li {\n      /* prevent 2-digits numbers from being cut-off */\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n\n    ul {\n      margin-left: 1.5em;\n      margin-bottom: 16px;\n      list-style-type: disc;\n      list-style-position: outside;\n      list-style-image: none;\n    }\n\n    ol {\n      margin-left: 1.25em;\n      margin-bottom: 16px;\n      list-style-type: decimal;\n    }\n\n    li {\n      list-style: inherit;\n      ol,\n      ul {\n        margin-bottom: 0;\n      }\n    }\n\n    code {\n      font-family: 'Roboto Mono', monospace;\n      font-size: 14px;\n      background: rgba(53, 50, 50, 0.08);\n      padding: 0.1em 0.25em;\n    }\n\n    pre {\n      padding: 0;\n      margin: 0;\n    }\n\n    pre > code {\n      display: block;\n      padding: 0.15em 0.6em;\n    }\n\n    img {\n      max-width: 100%;\n      border: 0;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      width: 100%;\n      border: 0;\n      background: ",";\n      margin: 16px 0;\n    }\n\n    blockquote {\n      margin: 0 0 16px 0;\n      border-left: 2px solid ",";\n      padding-left: 15px;\n    }\n\n    mark {\n      color: ",";\n      background-color: #ffe9a8;\n      padding: 0.1em 0.25em;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      position: relative;\n      &:before {\n        font-size: 14px;\n        text-align: left;\n        font-weight: var(--tina-font-weight-regular);\n        color: ",";\n        position: absolute;\n        left: -35px;\n        width: 30px;\n        cursor: pointer;\n        transition: color 0.25s ease;\n      }\n      &:hover:before {\n        color: ",";\n      }\n    }\n\n    blockquote {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        &:before {\n          display: none;\n        }\n      }\n    }\n  "],["\n    position: relative;\n\n    > [contenteditable] {\n      ","\n      overflow: auto;\n      -webkit-overflow-scrolling: touch;\n      min-height: 200px;\n      max-height: 500px;\n      overflow-y: auto;\n      display: block;\n\n      ::selection {\n        background-color: rgba(0, 132, 255, 0.3);\n      }\n\n      div::selection {\n        background: rgba(0, 0, 0, 0);\n      }\n\n      div[contenteditable] {\n        display: inline-block;\n      }\n\n      > *:first-child {\n        margin-top: 0;\n      }\n\n      > *:last-child {\n        margin-bottom: 0;\n      }\n    }\n\n    color: ",";\n    background-color: #fff;\n    font-size: 16px;\n    line-height: 26px;\n    white-space: pre-wrap;\n    -webkit-font-smoothing: antialiased;\n    text-shadow: none;\n    font-weight: 400;\n    cursor: auto;\n    overflow-wrap: break-word;\n    word-wrap: break-word;\n    border-radius: var(--tina-radius-small);\n\n    p {\n      font-size: 16px;\n      line-height: 26px;\n      font-weight: normal;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      font-weight: 600;\n      text-transform: none;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    h1 {\n      font-size: 40px;\n      line-height: 48px;\n      margin-top: 0;\n      &:not(:first-child) {\n        margin-top: 32px;\n      }\n    }\n\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:not(:first-child) {\n        margin-top: 21px;\n      }\n    }\n\n    h2 {\n      font-size: 34px;\n      line-height: 38px;\n      margin-top: 0;\n    }\n\n    h3 {\n      font-size: 26px;\n      line-height: 30px;\n      margin-top: 0;\n    }\n\n    h4 {\n      font-size: 21px;\n      line-height: 28px;\n      margin-top: 0;\n    }\n\n    h5 {\n      font-size: 18px;\n      line-height: 24px;\n      margin-top: 0;\n    }\n\n    h6 {\n      font-size: 16px;\n      line-height: 20px;\n      margin-top: 0;\n    }\n\n    a {\n      color: #0084ff;\n      border: 0;\n      font-weight: normal;\n      text-decoration: underline;\n    }\n\n    small {\n      font-size: 0.707em;\n    }\n\n    ul,\n    ol {\n      margin: 0;\n      padding: 0;\n    }\n\n    ol li {\n      /* prevent 2-digits numbers from being cut-off */\n      margin-left: 5px;\n      margin-right: 5px;\n    }\n\n    ul {\n      margin-left: 1.5em;\n      margin-bottom: 16px;\n      list-style-type: disc;\n      list-style-position: outside;\n      list-style-image: none;\n    }\n\n    ol {\n      margin-left: 1.25em;\n      margin-bottom: 16px;\n      list-style-type: decimal;\n    }\n\n    li {\n      list-style: inherit;\n      ol,\n      ul {\n        margin-bottom: 0;\n      }\n    }\n\n    code {\n      font-family: 'Roboto Mono', monospace;\n      font-size: 14px;\n      background: rgba(53, 50, 50, 0.08);\n      padding: 0.1em 0.25em;\n    }\n\n    pre {\n      padding: 0;\n      margin: 0;\n    }\n\n    pre > code {\n      display: block;\n      padding: 0.15em 0.6em;\n    }\n\n    img {\n      max-width: 100%;\n      border: 0;\n      padding: 0;\n      margin-bottom: 16px;\n    }\n\n    hr {\n      display: block;\n      height: 1px;\n      width: 100%;\n      border: 0;\n      background: ",";\n      margin: 16px 0;\n    }\n\n    blockquote {\n      margin: 0 0 16px 0;\n      border-left: 2px solid ",";\n      padding-left: 15px;\n    }\n\n    mark {\n      color: ",";\n      background-color: #ffe9a8;\n      padding: 0.1em 0.25em;\n    }\n\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      position: relative;\n      &:before {\n        font-size: 14px;\n        text-align: left;\n        font-weight: var(--tina-font-weight-regular);\n        color: ",";\n        position: absolute;\n        left: -35px;\n        width: 30px;\n        cursor: pointer;\n        transition: color 0.25s ease;\n      }\n      &:hover:before {\n        color: ",";\n      }\n    }\n\n    blockquote {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        &:before {\n          display: none;\n        }\n      }\n    }\n  "]),g.InputCss,Pi,Ai,Ai,Pi,Ai,Pi))}var Oi={__type:"field",name:"html",Component:Li((function(n){return z.createElement(Yo,A({},n,{sticky:!1,format:"html"}))})),parse:function(n){return n||""}},Di={__type:"field",name:"markdown",Component:Li((function(n){return z.createElement(Yo,A({},n,{sticky:!1,format:"markdown"}))})),parse:function(n){return n||""}};e.HtmlFieldPlugin=Oi,e.InlineWysiwyg=function(n){var e=n.name,t=n.children,o=n.focusRing,i=void 0===o||o,a=n.imageProps,l=P(n,["name","children","focusRing","imageProps"]),s=_.useCMS(),c=r.useMemo((function(){if(a)return A({upload:function(n){return L(this,void 0,void 0,(function(){var e;return O(this,(function(t){switch(t.label){case 0:return e=n.map((function(n){return{directory:(null==a?void 0:a.directory)||"",file:n}})),[4,s.media.persist(e)];case 1:return[2,t.sent().map((function(n){return a.parse?a.parse(n.filename):n.filename}))]}}))}))},previewSrc:function(n){return s.media.previewSrc(n)}},a)}),[s.media.store,null==a?void 0:a.directory,null==a?void 0:a.previewSrc,null==a?void 0:a.upload]);return s.disabled?t:r.createElement(E.InlineField,{name:e},(function(n){var t=n.input;return r.createElement(E.FocusRing,{name:e,options:i},r.createElement(Yo,A({input:t},l,{imageProps:c})))}))},e.MarkdownFieldPlugin=Di,e.Wysiwyg=Yo,Object.defineProperty(e,"__esModule",{value:!0})}(e,t("q1tI"),t("vOnD"),t("NGeX"),t("LXqm"),t("ABBN"),t("i8i4"),t("UxO+"),t("hyZr"),t("Zl/q"),t("mG1W"),t("V2qZ"),t("Vb5C"),t("wB5L"),t("OwXX"),t("9/5/"),t("oNMT"),t("MEpN"),t("I/Hh"),t("GhYw"),t("fwbU"),t("+V57"),t("CsC6"),t("/zyf"),t("tKV0"))}).call(this,t("yLpj"))}}]);
//# sourceMappingURL=b1a1d170-f61687ef1a9d9cb12767.js.map